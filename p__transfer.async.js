"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[395],{71624:function(X,S,t){t.d(S,{P:function(){return Q}});var Z=t(13448),M=t.n(Z),k=t(74815),L=t.n(k),$=t(95530),p=t.n($),G=t(28152),f=t.n(G),n=t(93236),Y=t(69821),b=t.n(Y),z=F;function F(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=E.mustBeMetaMask,o=d===void 0?!1:d,a=E.silent,l=a===void 0?!1:a,s=E.timeout,g=s===void 0?3e3:s;w();var _=!1;return new Promise(function(P){window.ethereum?x():(window.addEventListener("ethereum#initialized",x,{once:!0}),setTimeout(function(){x()},g));function x(){if(!_){_=!0,window.removeEventListener("ethereum#initialized",x);var v=window,h=v.ethereum;if(h&&(!o||h.isMetaMask))P(h);else{var A=o&&h?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!l&&console.error("@metamask/detect-provider:",A),P(null)}}}});function w(){if(typeof o!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof l!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof g!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var V=function(d){return d===1?"https://mainnet.infura.io/v3/":"https://rinkeby.infura.io/v3/"},K={NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_BASE_ENV==="test"?4:1,e,W,J=function(){var d,o=(d=window)===null||d===void 0?void 0:d.ethereum;return{isConnect:function(){var l,s;return(l=o==null||(s=o.isConnected)===null||s===void 0?void 0:s.call(o))!==null&&l!==void 0?l:!1},connect:function(){o==null||o.enable()},notAccountWeb3:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:K,s=new(b());return s.setProvider(new(b()).providers.HttpProvider(V(l))),s},web3:function(){return L()(M()().mark(function l(){var s;return M()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,z();case 2:if(s=_.sent,!s){_.next=7;break}return W=s,e=new(b())(W),_.abrupt("return",e);case 7:case"end":return _.stop()}},l)}))()},getProvider:function(){return W}}},y=["notAccountWeb3"],j=[1,4],Q=function(){var d=(0,n.useState)(),o=f()(d,2),a=o[0],l=o[1],s=(0,n.useState)(),g=f()(s,2),_=g[0],w=g[1],P=J(),x=P.notAccountWeb3,v=p()(P,y),h=(0,n.useState)(),A=f()(h,2),T=A[0],r=A[1],u=(0,n.useState)(),m=f()(u,2),c=m[0],C=m[1],D=(0,n.useState)(!1),R=f()(D,2),U=R[0],H=R[1],I=function(){(a!=null?a:e)&&((a!=null?a:e).eth.getAccounts().then(function(N){r(N[0])}),i())},i=function(){var O=L()(M()().mark(function N(){var q;return M()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,e==null?void 0:e.eth.getChainId();case 2:q=B.sent,C(q);case 4:case"end":return B.stop()}},N)}));return function(){return O.apply(this,arguments)}}();return(0,n.useEffect)(function(){H(!!T&&j.includes(c!=null?c:-1))},[T,c]),(0,n.useEffect)(function(){w(x(c))},[c]),(0,n.useEffect)(function(){v.web3().then(function(O){l(O),v.getProvider().on("connect",function(){console.log("connect"),I()}),v.getProvider().on("chainChanged",function(){console.log("chainChanged"),i()}),v.getProvider().on("disconnect",function(){console.log("disconnect"),I()}),v.getProvider().on("accountsChanged",function(){console.log("accountsChanged"),I()})})},[]),(0,n.useEffect)(function(){I()},[a]),{walletAddress:T,eth:v,address:T,chain:c,connect:v.connect,web3:a,isConnect:U,rpcWeb3:_}}},19987:function(X,S,t){t.r(S);var Z=t(13448),M=t.n(Z),k=t(74815),L=t.n(k),$=t(77117),p=t.n($),G=t(28152),f=t.n(G),n=t(40285),Y=t(71624),b=t(93236),z=t(94641),F=t(69821),V=t.n(F),K=t(1562),e=t(62086),W=function(){var y=(0,Y.P)(),j=y.address,Q=y.web3,E=y.connect,d=(0,b.useState)([]),o=f()(d,2),a=o[0],l=o[1];(0,b.useEffect)(function(){j&&z.Z.get("/api/avax/asc/utxo?address=".concat(j.toLocaleLowerCase(),"&pageNum=1&pageSize=200")).then(function(r){if(r.data.data){var u=r.data.data.records;l(u.map(function(m){return p()(p()({},m),{},{select:!1})}))}})},[j]);var s=a.filter(function(r){return r.select}).map(function(r){return r.value}).reduce(function(r,u){return(0,K.Z)(r).plus(u)},(0,K.Z)(0)),g=!s.isGreaterThan(0),_=(0,b.useState)(""),w=f()(_,2),P=w[0],x=w[1],v=(0,b.useState)(""),h=f()(v,2),A=h[0],T=h[1];return(0,e.jsxs)("div",{className:n.Z.transfer,children:[(0,e.jsxs)("div",{className:n.Z.transferInner,children:[(0,e.jsx)("div",{className:n.Z.title,children:"Tick"}),(0,e.jsx)("div",{children:(0,e.jsx)("input",{type:"text",value:"aval",disabled:!0})}),(0,e.jsx)("div",{className:n.Z.title,children:"Select UTXO"}),(0,e.jsxs)("div",{className:n.Z.utxos,children:[j&&(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:"5px",color:"rgba(0,0,0,0.5)"},children:"Top 200utxo"}),(0,e.jsxs)("div",{style:{marginBottom:"20px",color:"rgba(0,0,0,0.5)"},children:["Select value: ",s.toFormat(4)]})]}),(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:n.Z.all,onClick:function(){l(function(u){return u.map(function(m){return p()(p()({},m),{},{select:!0})})})},children:"All"})})]}),a.map(function(r,u){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:[n.Z.utxo_item,r.select?n.Z.utxo_select:""].join(" "),onClick:function(){l(function(c){return c.map(function(C,D){return p()(p()({},C),{},{select:D===u?!C.select:C.select})})})},children:["$",r.tick,": ",r.value]})})}),a.length===0&&(0,e.jsx)(e.Fragment,{children:j?(0,e.jsx)("div",{style:{fontSize:20,textAlign:"center",padding:"10px 0px",color:"rgba(0,0,0,0.5)"},children:"NO UTXO"}):(0,e.jsx)("div",{onClick:E,className:n.Z.connect,children:"Connect"})})]}),(0,e.jsx)("div",{className:n.Z.title,children:"Receiver"}),(0,e.jsx)("input",{value:P,placeholder:"0x...",onInput:function(u){x(u.target.value)}}),(0,e.jsxs)("div",{className:n.Z.title,children:["Amount ",(0,e.jsx)("span",{style:{opacity:.6},children:"(transfer token number)"})]}),(0,e.jsx)("input",{value:A,onInput:function(u){T(u.target.value)},placeholder:"0",type:"number"}),(0,e.jsx)("div",{style:{marginTop:50},children:(0,e.jsx)("button",{disabled:g,onClick:L()(M()().mark(function r(){var u,m,c,C,D,R,U,H;return M()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return u=a.map(function(O){return{txid:O.txid,vout:O.index.toString()}}),m="data:,"+JSON.stringify({p:"asc-20",op:"transfer",tick:"aval",vin:u,vout:[{amt:A,scriptPubKey:{addr:P}}]}),console.log(m),i.prev=3,c=new(V())(window.ethereum),i.next=7,window.ethereum.enable();case 7:return i.next=9,c.eth.getAccounts();case 9:return C=i.sent,D=C[0],console.log("sender",D),R=c.utils.toWei("0","ether"),U=c.utils.asciiToHex(m),console.log(U),i.next=17,c.eth.sendTransaction({from:D,to:"0x0000000000000000000000000000000000000000",value:R,data:U});case 17:H=i.sent,alert("success"),i.next=24;break;case 21:i.prev=21,i.t0=i.catch(3),console.log(i.t0);case 24:case"end":return i.stop()}},r,null,[[3,21]])})),children:"Transfer"})})]}),(0,e.jsx)("div",{style:{height:"50px"}})]})};S.default=W},40285:function(X,S){S.Z={indexer:"indexer___KRUim",cards:"cards___RReFY",tokenname:"tokenname___AIJQN",balance:"balance___p_phs",inner:"inner____mGY3",token:"token___YZ2O8",loadingbox:"loadingbox___pkeSy",loading:"loading___v87br",rectangle:"rectangle___iYf9s",transfer:"transfer___ZMOqy",transferInner:"transferInner___Vz9kk",utxos:"utxos___uKhYw",title:"title___nwRif",tokenbox:"tokenbox___OXMSy",utxo_item:"utxo_item___ILjVk",utxo_select:"utxo_select___dfaYU",all:"all___tVF5b",connect:"connect___it59e"}}}]);
