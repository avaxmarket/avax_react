"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[395],{71624:function(V,A,t){t.d(A,{P:function(){return F}});var K=t(13448),C=t.n(K),k=t(74815),y=t.n(k),N=t(95530),P=t.n(N),$=t(28152),m=t.n($),a=t(93236),O=t(13812),S=G;function G(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=f.mustBeMetaMask,o=_===void 0?!1:_,r=f.silent,c=r===void 0?!1:r,i=f.timeout,h=i===void 0?3e3:i;T();var u=!1;return new Promise(function(M){window.ethereum?p():(window.addEventListener("ethereum#initialized",p,{once:!0}),setTimeout(function(){p()},h));function p(){if(!u){u=!0,window.removeEventListener("ethereum#initialized",p);var v=window,x=v.ethereum;if(x&&(!o||x.isMetaMask))M(x);else{var n=o&&x?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!c&&console.error("@metamask/detect-provider:",n),M(null)}}}});function T(){if(typeof o!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof c!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof h!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var Y=function(_){return _===1?"https://mainnet.infura.io/v3/":"https://rinkeby.infura.io/v3/"},R={NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_BASE_ENV==="test"?4:1,e,w,H=function(){var _,o=(_=window)===null||_===void 0?void 0:_.ethereum;return{isConnect:function(){var c,i;return(c=o==null||(i=o.isConnected)===null||i===void 0?void 0:i.call(o))!==null&&c!==void 0?c:!1},connect:function(){o==null||o.enable()},notAccountWeb3:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R,i=new O.ZPm;return i.setProvider(new O.ZPm.providers.HttpProvider(Y(c))),i},web3:function(){return y()(C()().mark(function c(){var i;return C()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,S();case 2:if(i=u.sent,!i){u.next=7;break}return w=i,e=new O.ZPm(w),u.abrupt("return",e);case 7:case"end":return u.stop()}},c)}))()},getProvider:function(){return w}}},z=["notAccountWeb3"],D=[1,4],F=function(){var _=(0,a.useState)(),o=m()(_,2),r=o[0],c=o[1],i=(0,a.useState)(),h=m()(i,2),u=h[0],T=h[1],M=H(),p=M.notAccountWeb3,v=P()(M,z),x=(0,a.useState)(),n=m()(x,2),s=n[0],b=n[1],E=(0,a.useState)(),g=m()(E,2),d=g[0],U=g[1],I=(0,a.useState)(!1),B=m()(I,2),X=B[0],l=B[1],j=function(){(r!=null?r:e)&&((r!=null?r:e).eth.getAccounts().then(function(Z){b(Z[0])}),J())},J=function(){var L=y()(C()().mark(function Z(){var Q;return C()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,e==null?void 0:e.eth.getChainId();case 2:Q=W.sent,U(Q);case 4:case"end":return W.stop()}},Z)}));return function(){return L.apply(this,arguments)}}();return(0,a.useEffect)(function(){l(!!s&&D.includes(d!=null?d:-1))},[s,d]),(0,a.useEffect)(function(){T(p(d))},[d]),(0,a.useEffect)(function(){v.web3().then(function(L){c(L),v.getProvider().on("connect",function(){console.log("connect"),j()}),v.getProvider().on("chainChanged",function(){console.log("chainChanged"),J()}),v.getProvider().on("disconnect",function(){console.log("disconnect"),j()}),v.getProvider().on("accountsChanged",function(){console.log("accountsChanged"),j()})})},[]),(0,a.useEffect)(function(){j()},[r]),{walletAddress:s,eth:v,address:s,chain:d,connect:v.connect,web3:r,isConnect:X,rpcWeb3:u}}},19987:function(V,A,t){t.r(A);var K=t(13448),C=t.n(K),k=t(74815),y=t.n(k),N=t(77117),P=t.n(N),$=t(28152),m=t.n($),a=t(40285),O=t(71624),S=t(93236),G=t(94641),Y=t(13812),R=t(1562),e=t(62086),w=function(){var z=(0,O.P)(),D=z.address,F=(0,S.useState)([]),f=m()(F,2),_=f[0],o=f[1];(0,S.useEffect)(function(){D&&G.Z.get("/api/avax/asc/utxo?address=".concat(D.toLocaleLowerCase(),"&pageNum=1&pageSize=200")).then(function(n){if(n.data.data){console.log("res::",n.data.data.records);var s=n.data.data.records;o(s.map(function(b){return P()(P()({},b),{},{select:!1})}))}})},[D]);var r=_.filter(function(n){return n.select}).map(function(n){return n.value}).reduce(function(n,s){return(0,R.Z)(n).plus(s)},(0,R.Z)(0)),c=r.isGreaterThan(0),i=(0,S.useState)(""),h=m()(i,2),u=h[0],T=h[1],M=(0,S.useState)(""),p=m()(M,2),v=p[0],x=p[1];return(0,e.jsxs)("div",{className:a.Z.transfer,children:[(0,e.jsxs)("div",{className:a.Z.transferInner,children:[(0,e.jsx)("div",{className:a.Z.title,children:"Tick"}),(0,e.jsx)("div",{children:(0,e.jsx)("input",{type:"text",value:"aval",disabled:!0})}),(0,e.jsx)("div",{className:a.Z.title,children:"Select UTXO"}),(0,e.jsxs)("div",{className:a.Z.utxos,children:[D&&(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:"5px",color:"rgba(0,0,0,0.5)"},children:"Top 200utxo"}),(0,e.jsxs)("div",{style:{marginBottom:"20px",color:"rgba(0,0,0,0.5)"},children:["Select value: ",r.toFormat(4)]})]}),(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:a.Z.all,onClick:function(){o(function(s){return s.map(function(b){return P()(P()({},b),{},{select:!0})})})},children:"All"})})]}),_.map(function(n,s){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:[a.Z.utxo_item,n.select?a.Z.utxo_select:""].join(" "),onClick:function(){o(function(E){return E.map(function(g,d){return P()(P()({},g),{},{select:d===s?!g.select:g.select})})})},children:["$",n.tick,": ",n.value]})})}),_.length===0&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{fontSize:20,textAlign:"center",padding:"10px 0px",color:"rgba(0,0,0,0.5)"},children:"NO UTXO"})})]}),(0,e.jsx)("div",{className:a.Z.title,children:"Receiver"}),(0,e.jsx)("input",{value:u,placeholder:"0x...",onInput:function(s){T(s.target.value)}}),(0,e.jsx)("div",{className:a.Z.title,children:"Amount"}),(0,e.jsx)("input",{value:u,onInput:function(s){x(s.target.value)},placeholder:"0",type:"number"}),(0,e.jsx)("div",{style:{marginTop:50},children:(0,e.jsx)("button",{disabled:c,onClick:y()(C()().mark(function n(){var s,b,E,g,d,U,I,B;return C()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(s=_.map(function(j){return{txid:j.txid,vout:j.index.toString()}}),b=JSON.stringify({p:"asc-20",op:"transfer",tick:"aval",vin:s,vout:[{amt:v,scriptPubKey:{addr:u}}]}),typeof window.ethereum=="undefined"){l.next=20;break}return l.prev=3,E=new Y.ZPm(window.ethereum),l.next=7,window.ethereum.enable();case 7:return l.next=9,E.eth.getAccounts();case 9:return g=l.sent,d=g[0],U=E.utils.toWei("0","ether"),I=E.utils.asciiToHex(b),l.next=15,E.eth.sendTransaction({from:d,to:"0x0000000000000000000000000000000000000000",value:U,data:I});case 15:B=l.sent,l.next=20;break;case 18:l.prev=18,l.t0=l.catch(3);case 20:case"end":return l.stop()}},n,null,[[3,18]])})),children:"Transfer"})})]}),(0,e.jsx)("div",{style:{height:"50px"}})]})};A.default=w},40285:function(V,A){A.Z={indexer:"indexer___KRUim",cards:"cards___RReFY",tokenname:"tokenname___AIJQN",balance:"balance___p_phs",inner:"inner____mGY3",token:"token___YZ2O8",loadingbox:"loadingbox___pkeSy",loading:"loading___v87br",rectangle:"rectangle___iYf9s",transfer:"transfer___ZMOqy",transferInner:"transferInner___Vz9kk",utxos:"utxos___uKhYw",title:"title___nwRif",tokenbox:"tokenbox___OXMSy",utxo_item:"utxo_item___ILjVk",utxo_select:"utxo_select___dfaYU",all:"all___tVF5b"}}}]);
