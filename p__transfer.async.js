"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[395],{22233:function(Y,x,t){t.d(x,{J4:function(){return g},M$:function(){return y},XI:function(){return U},gp:function(){return b},jC:function(){return W},kE:function(){return d},mA:function(){return R},zl:function(){return A}});var W="AVAX",d="",y=40,A=43114,R="https://api.avaxmarket.xyz/scan_block_api",g="https://api.avaxmarket.xyz/market_list_api",U="https://snowtrace.io/address/",b="https://snowtrace.io/tx/"},37555:function(Y,x,t){t.d(x,{P:function(){return J}});var W=t(15009),d=t.n(W),y=t(99289),A=t.n(y),R=t(13769),g=t.n(R),U=t(5574),b=t.n(U),s=t(67294),G=t(37918),j=t.n(G),F=Q;function Q(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},_=w.mustBeMetaMask,i=_===void 0?!1:_,e=w.silent,u=e===void 0?!1:e,o=w.timeout,h=o===void 0?3e3:o;T();var l=!1;return new Promise(function(E){window.ethereum?M():(window.addEventListener("ethereum#initialized",M,{once:!0}),setTimeout(function(){M()},h));function M(){if(!l){l=!0,window.removeEventListener("ethereum#initialized",M);var f=window,p=f.ethereum;if(p&&(!i||p.isMetaMask))E(p);else{var D=i&&p?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!u&&console.error("@metamask/detect-provider:",D),E(null)}}}});function T(){if(typeof i!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof u!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof h!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var Z=t(22233),L=function(_){return _===1?"https://mainnet.infura.io/v3/":"https://rinkeby.infura.io/v3/"},n={NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_BASE_ENV==="test"?4:1,B=Z.zl,z=function(){var w=A()(d()().mark(function _(){return d()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum.networkVersion===B){e.next=11;break}return e.prev=1,e.next=4,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:v.utils.toHex(B)}]});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),e.t0.code!==4902){e.next=11;break}return e.next=11,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainName:"AVAX Mainnet",chainId:v.utils.toHex(B),nativeCurrency:{name:"AVAX",decimals:18,symbol:"AVAX"},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"]}]});case 11:case"end":return e.stop()}},_,null,[[1,6]])}));return function(){return w.apply(this,arguments)}}(),v,k,S=function(){var _,i=(_=window)===null||_===void 0?void 0:_.ethereum;return{isConnect:function(){var u,o;return(u=i==null||(o=i.isConnected)===null||o===void 0?void 0:o.call(i))!==null&&u!==void 0?u:!1},connect:function(){return A()(d()().mark(function u(){return d()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:i==null||i.enable(),setTimeout(A()(d()().mark(function l(){return d()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:z();case 1:case"end":return E.stop()}},l)})),300);case 2:case"end":return h.stop()}},u)}))()},switch:z,notAccountWeb3:function(){var u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n,o=new(j());return o.setProvider(new(j()).providers.HttpProvider(L(u))),o},web3:function(){return A()(d()().mark(function u(){var o;return d()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,F();case 2:if(o=l.sent,!o){l.next=7;break}return k=o,v=new(j())(k),l.abrupt("return",v);case 7:case"end":return l.stop()}},u)}))()},getProvider:function(){return k}}},ee=["notAccountWeb3"],$=[Z.zl],J=function(){var _=(0,s.useState)(),i=b()(_,2),e=i[0],u=i[1],o=(0,s.useState)(),h=b()(o,2),l=h[0],T=h[1],E=S(),M=E.notAccountWeb3,f=g()(E,ee),p=(0,s.useState)(),D=b()(p,2),r=D[0],c=D[1],C=(0,s.useState)(),P=b()(C,2),m=P[0],O=P[1],V=(0,s.useState)(!1),I=b()(V,2),q=I[0],te=I[1],a=function(){(e!=null?e:v)&&((e!=null?e:v).eth.getAccounts().then(function(H){c(H[0])}),N())},N=function(){var X=A()(d()().mark(function H(){var ne;return d()().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,v==null?void 0:v.eth.getChainId();case 2:ne=K.sent,O(ne);case 4:case"end":return K.stop()}},H)}));return function(){return X.apply(this,arguments)}}();return(0,s.useEffect)(function(){te(!!r&&$.includes(m!=null?m:-1))},[r,m]),(0,s.useEffect)(function(){T(M(m))},[m]),(0,s.useEffect)(function(){f.web3().then(function(X){u(X),f.getProvider().on("connect",function(){console.log("connect"),a()}),f.getProvider().on("chainChanged",function(){console.log("chainChanged"),N()}),f.getProvider().on("disconnect",function(){console.log("disconnect"),a()}),f.getProvider().on("accountsChanged",function(){console.log("accountsChanged"),a()})})},[]),(0,s.useEffect)(function(){a()},[e]),{walletAddress:r,eth:f,address:r,chain:m,connect:f.connect,switch_chian:f.switch,web3:e,isConnect:q,rpcWeb3:l}}},39407:function(Y,x,t){t.r(x);var W=t(15009),d=t.n(W),y=t(99289),A=t.n(y),R=t(97857),g=t.n(R),U=t(5574),b=t.n(U),s=t(62094),G=t(37555),j=t(67294),F=t(5121),Q=t(37918),Z=t.n(Q),L=t(70794),n=t(85893),B=function(){var k=(0,G.P)(),S=k.address,ee=k.web3,$=k.connect,J=k.isConnect,w=(0,j.useState)([]),_=b()(w,2),i=_[0],e=_[1];(0,j.useEffect)(function(){S&&F.Z.get("/api/avax/asc/utxo?address=".concat(S.toLocaleLowerCase(),"&pageNum=1&pageSize=500")).then(function(r){if(r.data.data){var c=r.data.data.records;e(c.map(function(C){return g()(g()({},C),{},{select:!1})}))}})},[S]);var u=i.filter(function(r){return r.select}).map(function(r){return r.value}).reduce(function(r,c){return(0,L.Z)(r).plus(c)},(0,L.Z)(0)),o=!u.isGreaterThan(0),h=(0,j.useState)(""),l=b()(h,2),T=l[0],E=l[1],M=(0,j.useState)(""),f=b()(M,2),p=f[0],D=f[1];return(0,n.jsxs)("div",{className:s.Z.transfer,children:[(0,n.jsxs)("div",{className:s.Z.transferInner,children:[(0,n.jsx)("div",{className:s.Z.title,children:"Tick"}),(0,n.jsx)("div",{children:(0,n.jsx)("input",{type:"text",value:"aval",disabled:!0})}),(0,n.jsx)("div",{className:s.Z.title,children:"Select UTXO"}),(0,n.jsxs)("div",{className:s.Z.utxos,children:[S&&(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{style:{marginBottom:"5px",color:"rgba(0,0,0,0.5)"},children:"Top 500utxo"}),(0,n.jsxs)("div",{style:{marginBottom:"20px",color:"rgba(0,0,0,0.5)"},children:["Select value: ",u.toFormat(4)]})]}),(0,n.jsx)("div",{children:(0,n.jsx)("div",{className:s.Z.all,onClick:function(){e(function(c){return c.map(function(C){return g()(g()({},C),{},{select:!0})})})},children:"All"})})]}),i.map(function(r,c){return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:[s.Z.utxo_item,r.select?s.Z.utxo_select:""].join(" "),onClick:function(){e(function(P){return P.map(function(m,O){return g()(g()({},m),{},{select:O===c?!m.select:m.select})})})},children:["$",r.tick,": ",r.value]})})}),i.length===0&&(0,n.jsx)(n.Fragment,{children:S?(0,n.jsx)("div",{style:{fontSize:20,textAlign:"center",padding:"10px 0px",color:"rgba(0,0,0,0.5)"},children:"NO UTXO"}):(0,n.jsx)("div",{onClick:$,className:s.Z.connect,children:"Connect"})})]}),(0,n.jsx)("div",{className:s.Z.title,children:"Receiver"}),(0,n.jsx)("input",{value:T,placeholder:"0x...",onInput:function(c){E(c.target.value)}}),(0,n.jsxs)("div",{className:s.Z.title,children:["Amount ",(0,n.jsx)("span",{style:{opacity:.6},children:"(transfer token number)"})]}),(0,n.jsx)("input",{value:p,onInput:function(c){D(c.target.value)},placeholder:"0",type:"number"}),(0,n.jsx)("div",{style:{marginTop:50},children:J?(0,n.jsx)("button",{disabled:o,onClick:A()(d()().mark(function r(){var c,C,P,m,O,V,I,q;return d()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("amt::",p),T){a.next=4;break}return alert("receiver error"),a.abrupt("return");case 4:if(z(T||"")){a.next=7;break}return alert("receiver error"),a.abrupt("return");case 7:if(!(!p||(0,L.Z)(p).isLessThanOrEqualTo(0))){a.next=10;break}return alert("amt error"),a.abrupt("return");case 10:return c=i.map(function(N){return{txid:N.txid,vout:N.index.toString()}}),C="data:,"+JSON.stringify({p:"asc-20",op:"transfer",tick:"aval",vin:c,vout:[{amt:p,scriptPubKey:{addr:T.toLocaleLowerCase()}}]}),console.log(C),a.prev=13,P=new(Z())(window.ethereum),a.next=17,window.ethereum.enable();case 17:return a.next=19,P.eth.getAccounts();case 19:return m=a.sent,O=m[0],console.log("sender",O),V=P.utils.toWei("0","ether"),I=P.utils.asciiToHex(C),console.log(I),a.next=27,P.eth.sendTransaction({from:O,to:"0x0000000000000000000000000000000000000000",value:V,data:I});case 27:q=a.sent,alert("success"),a.next=34;break;case 31:a.prev=31,a.t0=a.catch(13),console.log(a.t0);case 34:case"end":return a.stop()}},r,null,[[13,31]])})),children:"Transfer"}):(0,n.jsx)("button",{onClick:$,children:"Connect"})})]}),(0,n.jsx)("div",{style:{height:"50px"}})]})};x.default=B;function z(v){return!(typeof v!="string"||!/^0x[0-9A-Fa-f]{40}$/.test(v))}},62094:function(Y,x){x.Z={indexer:"indexer___KRUim",cards:"cards___RReFY",tokenname:"tokenname___AIJQN",balance:"balance___p_phs",inner:"inner____mGY3",token:"token___YZ2O8",loadingbox:"loadingbox___pkeSy",loading:"loading___v87br",rectangle:"rectangle___iYf9s",transfer:"transfer___ZMOqy",transferInner:"transferInner___Vz9kk",utxos:"utxos___uKhYw",title:"title___nwRif",tokenbox:"tokenbox___OXMSy",utxo_item:"utxo_item___ILjVk",utxo_select:"utxo_select___dfaYU",all:"all___tVF5b",connect:"connect___it59e",market:"market___hh364",header:"header___Peyd6",tick_type:"tick_type___MCcRa",tick_info:"tick_info___hDvTL",item:"item___sWkVl",item_title:"item_title___w7ctb",item_value:"item_value___IARMT",tabs:"tabs___LxTFv",tab_item:"tab_item___Ez6Id",tab_item_active:"tab_item_active___BKQKU",quick_list:"quick_list___hUzUa",market_list:"market_list___ZKG4J",market_list_item:"market_list_item___h_BE9",buy:"buy___kP3pZ",list_tick:"list_tick____w_on",list_num:"list_num___O8RTc",sell_usd:"sell_usd___ClX7o",line:"line___SuZOP",avalLogo:"avalLogo___a10An",tabs_wrap:"tabs_wrap___d9GIz",quick_list_wrap:"quick_list_wrap___sWN69",pageWrap:"pageWrap___vLCzz",total:"total___IQw8K",emptySize:"emptySize___ZKxVQ",dialogWrap:"dialogWrap___q6lr3",dialogWrapOutBox:"dialogWrapOutBox___QYl4T",orderTableWrap:"orderTableWrap___z1Wto"}}}]);
