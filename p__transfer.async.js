"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[395],{71624:function(H,A,t){t.d(A,{P:function(){return J}});var N=t(13448),M=t.n(N),Z=t(74815),R=t.n(Z),k=t(95530),b=t.n(k),$=t(28152),h=t.n($),a=t(93236),G=t(69821),E=t.n(G),Y=z;function z(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},d=g.mustBeMetaMask,s=d===void 0?!1:d,r=g.silent,l=r===void 0?!1:r,i=g.timeout,P=i===void 0?3e3:i;O();var _=!1;return new Promise(function(C){window.ethereum?x():(window.addEventListener("ethereum#initialized",x,{once:!0}),setTimeout(function(){x()},P));function x(){if(!_){_=!0,window.removeEventListener("ethereum#initialized",x);var v=window,p=v.ethereum;if(p&&(!s||p.isMetaMask))C(p);else{var S=s&&p?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!l&&console.error("@metamask/detect-provider:",S),C(null)}}}});function O(){if(typeof s!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof l!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof P!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var F=function(d){return d===1?"https://mainnet.infura.io/v3/":"https://rinkeby.infura.io/v3/"},U={NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_BASE_ENV==="test"?4:1,e,T,X=function(){var d,s=(d=window)===null||d===void 0?void 0:d.ethereum;return{isConnect:function(){var l,i;return(l=s==null||(i=s.isConnected)===null||i===void 0?void 0:i.call(s))!==null&&l!==void 0?l:!1},connect:function(){s==null||s.enable()},notAccountWeb3:function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:U,i=new(E());return i.setProvider(new(E()).providers.HttpProvider(F(l))),i},web3:function(){return R()(M()().mark(function l(){var i;return M()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Y();case 2:if(i=_.sent,!i){_.next=7;break}return T=i,e=new(E())(T),_.abrupt("return",e);case 7:case"end":return _.stop()}},l)}))()},getProvider:function(){return T}}},I=["notAccountWeb3"],D=[1,4],J=function(){var d=(0,a.useState)(),s=h()(d,2),r=s[0],l=s[1],i=(0,a.useState)(),P=h()(i,2),_=P[0],O=P[1],C=X(),x=C.notAccountWeb3,v=b()(C,I),p=(0,a.useState)(),S=h()(p,2),n=S[0],u=S[1],m=(0,a.useState)(),f=h()(m,2),c=f[0],j=f[1],B=(0,a.useState)(!1),w=h()(B,2),V=w[0],Q=w[1],o=function(){(r!=null?r:e)&&((r!=null?r:e).eth.getAccounts().then(function(K){u(K[0])}),W())},W=function(){var L=R()(M()().mark(function K(){var q;return M()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,e==null?void 0:e.eth.getChainId();case 2:q=y.sent,j(q);case 4:case"end":return y.stop()}},K)}));return function(){return L.apply(this,arguments)}}();return(0,a.useEffect)(function(){Q(!!n&&D.includes(c!=null?c:-1))},[n,c]),(0,a.useEffect)(function(){O(x(c))},[c]),(0,a.useEffect)(function(){v.web3().then(function(L){l(L),v.getProvider().on("connect",function(){console.log("connect"),o()}),v.getProvider().on("chainChanged",function(){console.log("chainChanged"),W()}),v.getProvider().on("disconnect",function(){console.log("disconnect"),o()}),v.getProvider().on("accountsChanged",function(){console.log("accountsChanged"),o()})})},[]),(0,a.useEffect)(function(){o()},[r]),{walletAddress:n,eth:v,address:n,chain:c,connect:v.connect,web3:r,isConnect:V,rpcWeb3:_}}},19987:function(H,A,t){t.r(A);var N=t(13448),M=t.n(N),Z=t(74815),R=t.n(Z),k=t(77117),b=t.n(k),$=t(28152),h=t.n($),a=t(40285),G=t(71624),E=t(93236),Y=t(94641),z=t(69821),F=t.n(z),U=t(1562),e=t(62086),T=function(){var I=(0,G.P)(),D=I.address,J=I.web3,g=(0,E.useState)([]),d=h()(g,2),s=d[0],r=d[1];(0,E.useEffect)(function(){D&&Y.Z.get("/api/avax/asc/utxo?address=".concat(D.toLocaleLowerCase(),"&pageNum=1&pageSize=200")).then(function(n){if(n.data.data){var u=n.data.data.records;r(u.map(function(m){return b()(b()({},m),{},{select:!1})}))}})},[D]);var l=s.filter(function(n){return n.select}).map(function(n){return n.value}).reduce(function(n,u){return(0,U.Z)(n).plus(u)},(0,U.Z)(0)),i=!l.isGreaterThan(0),P=(0,E.useState)(""),_=h()(P,2),O=_[0],C=_[1],x=(0,E.useState)(""),v=h()(x,2),p=v[0],S=v[1];return(0,e.jsxs)("div",{className:a.Z.transfer,children:[(0,e.jsxs)("div",{className:a.Z.transferInner,children:[(0,e.jsx)("div",{className:a.Z.title,children:"Tick"}),(0,e.jsx)("div",{children:(0,e.jsx)("input",{type:"text",value:"aval",disabled:!0})}),(0,e.jsx)("div",{className:a.Z.title,children:"Select UTXO"}),(0,e.jsxs)("div",{className:a.Z.utxos,children:[D&&(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:"5px",color:"rgba(0,0,0,0.5)"},children:"Top 200utxo"}),(0,e.jsxs)("div",{style:{marginBottom:"20px",color:"rgba(0,0,0,0.5)"},children:["Select value: ",l.toFormat(4)]})]}),(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:a.Z.all,onClick:function(){r(function(u){return u.map(function(m){return b()(b()({},m),{},{select:!0})})})},children:"All"})})]}),s.map(function(n,u){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:[a.Z.utxo_item,n.select?a.Z.utxo_select:""].join(" "),onClick:function(){r(function(f){return f.map(function(c,j){return b()(b()({},c),{},{select:j===u?!c.select:c.select})})})},children:["$",n.tick,": ",n.value]})})}),s.length===0&&(0,e.jsx)(e.Fragment,{children:(0,e.jsx)("div",{style:{fontSize:20,textAlign:"center",padding:"10px 0px",color:"rgba(0,0,0,0.5)"},children:"NO UTXO"})})]}),(0,e.jsx)("div",{className:a.Z.title,children:"Receiver"}),(0,e.jsx)("input",{value:O,placeholder:"0x...",onInput:function(u){C(u.target.value)}}),(0,e.jsxs)("div",{className:a.Z.title,children:["Amount ",(0,e.jsx)("span",{style:{opacity:.6},children:"(transfer token number)"})]}),(0,e.jsx)("input",{value:p,onInput:function(u){S(u.target.value)},placeholder:"0",type:"number"}),(0,e.jsx)("div",{style:{marginTop:50},children:(0,e.jsx)("button",{disabled:i,onClick:R()(M()().mark(function n(){var u,m,f,c,j,B,w,V;return M()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return u=s.map(function(W){return{txid:W.txid,vout:W.index.toString()}}),m="data:,"+JSON.stringify({p:"asc-20",op:"transfer",tick:"aval",vin:u,vout:[{amt:p,scriptPubKey:{addr:O}}]}),console.log(m),o.prev=3,f=new(F())(window.ethereum),o.next=7,window.ethereum.enable();case 7:return o.next=9,f.eth.getAccounts();case 9:return c=o.sent,j=c[0],console.log("sender",j),B=f.utils.toWei("0","ether"),w=f.utils.asciiToHex(m),console.log(w),o.next=17,f.eth.sendTransaction({from:j,to:"0x0000000000000000000000000000000000000000",value:B,data:w});case 17:V=o.sent,alert("success"),o.next=24;break;case 21:o.prev=21,o.t0=o.catch(3),console.log(o.t0);case 24:case"end":return o.stop()}},n,null,[[3,21]])})),children:"Transfer"})})]}),(0,e.jsx)("div",{style:{height:"50px"}})]})};A.default=T},40285:function(H,A){A.Z={indexer:"indexer___KRUim",cards:"cards___RReFY",tokenname:"tokenname___AIJQN",balance:"balance___p_phs",inner:"inner____mGY3",token:"token___YZ2O8",loadingbox:"loadingbox___pkeSy",loading:"loading___v87br",rectangle:"rectangle___iYf9s",transfer:"transfer___ZMOqy",transferInner:"transferInner___Vz9kk",utxos:"utxos___uKhYw",title:"title___nwRif",tokenbox:"tokenbox___OXMSy",utxo_item:"utxo_item___ILjVk",utxo_select:"utxo_select___dfaYU",all:"all___tVF5b"}}}]);
