(self.webpackChunk=self.webpackChunk||[]).push([[374],{14613:function(Ae,F,r){"use strict";r.d(F,{J4:function(){return f},M$:function(){return ae},XI:function(){return d},bU:function(){return n},fX:function(){return B},gp:function(){return o},jC:function(){return se},kE:function(){return x},mA:function(){return _},zl:function(){return b}});var se="AVAX",x="",ae=40,b=43114,_="https://api.avaxmarket.xyz/scan_block_api",f="https://api.avaxmarket.xyz/market_list_api",d="https://snowtrace.io/address/",n="https://snowtrace.io/block/",o="https://snowtrace.io/tx/",B=.5},86560:function(Ae,F,r){"use strict";r.d(F,{JG:function(){return ae},nb:function(){return se},xm:function(){return x}});var se=function(_){return _.substring(0,4)+"..."+_.substring(_.length-4,_.length)};function x(b){return!(typeof b!="string"||!/^0x[0-9A-Fa-f]{40}$/.test(b))}function ae(b){if(navigator.clipboard)navigator.clipboard.writeText(b);else{var _=document.createElement("textarea");document.body.appendChild(_),_.style.position="fixed",_.style.clip="rect(0 0 0 0)",_.style.top="10px",_.value=b,_.select(),document.execCommand("copy",!0),document.body.removeChild(_)}}},71624:function(Ae,F,r){"use strict";r.d(F,{P:function(){return Ie}});var se=r(13448),x=r.n(se),ae=r(74815),b=r.n(ae),_=r(95530),f=r.n(_),d=r(28152),n=r.n(d),o=r(93236),B=r(69821),be=r.n(B),q=Le;function Le(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=A.mustBeMetaMask,y=s===void 0?!1:s,l=A.silent,C=l===void 0?!1:l,g=A.timeout,I=g===void 0?3e3:g;he();var w=!1;return new Promise(function(M){window.ethereum?ee():(window.addEventListener("ethereum#initialized",ee,{once:!0}),setTimeout(function(){ee()},I));function ee(){if(!w){w=!0,window.removeEventListener("ethereum#initialized",ee);var k=window,le=k.ethereum;if(le&&(!y||le.isMetaMask))M(le);else{var fe=y&&le?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!C&&console.error("@metamask/detect-provider:",fe),M(null)}}}});function he(){if(typeof y!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof C!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof I!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var Ee=r(14613),Pe=function(s){return s===1?"https://mainnet.infura.io/v3/":"https://rinkeby.infura.io/v3/"},u={NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_BASE_ENV==="test"?4:1,U=Ee.zl,h=function(){var A=b()(x()().mark(function s(){return x()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(window.ethereum.networkVersion===U){l.next=11;break}return l.prev=1,l.next=4,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e.utils.toHex(U)}]});case 4:l.next=11;break;case 6:if(l.prev=6,l.t0=l.catch(1),l.t0.code!==4902){l.next=11;break}return l.next=11,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainName:"AVAX Mainnet",chainId:e.utils.toHex(U),nativeCurrency:{name:"AVAX",decimals:18,symbol:"AVAX"},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"]}]});case 11:case"end":return l.stop()}},s,null,[[1,6]])}));return function(){return A.apply(this,arguments)}}(),e,_e,Fe=function(){var s,y=(s=window)===null||s===void 0?void 0:s.ethereum;return{isConnect:function(){var C,g;return(C=y==null||(g=y.isConnected)===null||g===void 0?void 0:g.call(y))!==null&&C!==void 0?C:!1},connect:function(){return b()(x()().mark(function C(){return x()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:y==null||y.enable(),setTimeout(b()(x()().mark(function w(){return x()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:h();case 1:case"end":return M.stop()}},w)})),300);case 2:case"end":return I.stop()}},C)}))()},switch:h,notAccountWeb3:function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:u,g=new(be());return g.setProvider(new(be()).providers.HttpProvider(Pe(C))),g},web3:function(){return b()(x()().mark(function C(){var g;return x()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.next=2,q();case 2:if(g=w.sent,!g){w.next=7;break}return _e=g,e=new(be())(_e),w.abrupt("return",e);case 7:case"end":return w.stop()}},C)}))()},getProvider:function(){return _e}}},ie=["notAccountWeb3"],Be=[Ee.zl],Ie=function(){var s=(0,o.useState)(),y=n()(s,2),l=y[0],C=y[1],g=(0,o.useState)(),I=n()(g,2),w=I[0],he=I[1],M=Fe(),ee=M.notAccountWeb3,k=f()(M,ie),le=(0,o.useState)(),fe=n()(le,2),ve=fe[0],Ve=fe[1],Ue=(0,o.useState)(),We=n()(Ue,2),X=We[0],oe=We[1],K=(0,o.useState)(!1),z=n()(K,2),J=z[0],V=z[1],T=function(){localStorage.disconnect||(l!=null?l:e)&&((l!=null?l:e).eth.getAccounts().then(function(R){Ve(R[0])}),W())},W=function(){var H=b()(x()().mark(function R(){var O;return x()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,e==null?void 0:e.eth.getChainId();case 2:O=j.sent,oe(O);case 4:case"end":return j.stop()}},R)}));return function(){return H.apply(this,arguments)}}();return(0,o.useEffect)(function(){V(!!ve&&Be.includes(X!=null?X:-1))},[ve,X]),(0,o.useEffect)(function(){he(ee(X))},[X]),(0,o.useEffect)(function(){k.web3().then(function(H){C(H),k.getProvider().on("connect",function(){console.log("connect"),T()}),k.getProvider().on("chainChanged",function(){console.log("chainChanged"),W()}),k.getProvider().on("disconnect",function(){console.log("disconnect"),T()}),k.getProvider().on("accountsChanged",function(){console.log("accountsChanged"),T()})})},[]),(0,o.useEffect)(function(){T()},[l]),{walletAddress:ve,eth:k,address:ve,chain:X,connect:function(){var H=b()(x()().mark(function O(){return x()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return localStorage.removeItem("disconnect"),j.next=3,k.connect();case 3:T();case 4:case"end":return j.stop()}},O)}));function R(){return H.apply(this,arguments)}return R}(),disconnect:function(){localStorage.setItem("disconnect","1"),Ve(""),V(!1)},switch_chian:k.switch,web3:l,isConnect:J,rpcWeb3:w}}},32667:function(Ae,F,r){"use strict";r.r(F),r.d(F,{default:function(){return ve}});var se=r(13448),x=r.n(se),ae=r(74815),b=r.n(ae),_=r(28152),f=r.n(_),d=r(93236),n=r(40285),o=r(1562),B=r(94641),be=r(77117),q=r.n(be),Le=r(71624),Ee=r(69821),Pe=r.n(Ee),u=r(812),U=r(78444),h=r(14613),e=r(62086),_e=function(K){var z,J=K.onClose,V=(0,Le.P)(),T=V.isConnect,W=V.address,H=V.web3,R=V.connect,O=(0,d.useState)([]),me=f()(O,2),j=me[0],ye=me[1];(0,d.useEffect)(function(){W&&B.Z.get("/api/avax/asc/utxo?address=".concat(W.toLocaleLowerCase(),"&pageNum=1&pageSize=500")).then(function(v){if(v.data.data){var S=v.data.data.records;ye(S.map(function(D){return q()(q()({},D),{},{select:!1})}))}})},[W]);var te=j.filter(function(v){return v.select}).map(function(v){return v.value}).reduce(function(v,S){return(0,o.Z)(v).plus(S)},(0,o.Z)(0)),Xe=!te.isGreaterThan(0),Je=(0,d.useState)(!1),ce=f()(Je,2),Z=ce[0],ne=ce[1],Ke=(0,d.useState)(""),Oe=f()(Ke,2),L=Oe[0],Ze=Oe[1],Me=(0,d.useState)(""),Ge=f()(Me,2),E=Ge[0],ze=Ge[1],He=(0,d.useState)(!1),G=f()(He,2),Ye=G[0],Se=G[1],Y=Number((z=localStorage)===null||z===void 0?void 0:z.coinprice);return(0,e.jsxs)("div",{className:n.Z.transfer,children:[(0,e.jsxs)("div",{className:n.Z.transferInner,style:{marginTop:0},children:[(0,e.jsx)("div",{children:(0,e.jsx)("input",{type:"text",value:"aval",disabled:!0})}),(0,e.jsx)("div",{className:n.Z.title,children:"Select UTXO"}),(0,e.jsxs)("div",{className:n.Z.utxos,children:[W&&(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:"5px",color:"rgba(0,0,0,0.5)"},children:"Top 500utxo"}),(0,e.jsxs)("div",{style:{marginBottom:"20px",color:"rgba(0,0,0,0.5)"},children:["Select value: ",te.toFormat(4)]})]}),(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:n.Z.all,onClick:function(){ye(function(S){return S.map(function(D){return q()(q()({},D),{},{select:!0})})})},children:"All"})})]}),j.map(function(v,S){return(0,e.jsxs)("div",{className:[n.Z.utxo_item,v.select?n.Z.utxo_select:""].join(" "),onClick:function(){ye(function(de){return de.map(function(Q,xe){return q()(q()({},Q),{},{select:xe===S?!Q.select:Q.select})})})},children:["$",v.tick,": ",v.value]},v.txid+v.index)}),j.length===0&&(0,e.jsx)(e.Fragment,{children:W?(0,e.jsx)("div",{style:{fontSize:20,textAlign:"center",padding:"10px 0px",color:"rgba(0,0,0,0.5)"},children:"NO UTXO"}):(0,e.jsx)("div",{onClick:R,className:n.Z.connect,children:"Connect"})})]}),(0,e.jsxs)("div",{className:n.Z.title,children:["Total Price",(0,e.jsxs)("span",{style:{opacity:.6},children:[" (",h.jC,")"]})]}),(0,e.jsx)("input",{value:E,placeholder:"1",onInput:function(S){ze(S.target.value)}}),(0,e.jsxs)("div",{className:n.Z.title,children:["Amount ",(0,e.jsx)("span",{style:{opacity:.6},children:"(transfer token number)"})]}),(0,e.jsx)("input",{value:L,onInput:function(S){Ze(S.target.value)},placeholder:"0",type:"number"}),(0,e.jsx)("button",{style:{marginTop:"10px"},onClick:function(){Ze(function(S){return(Number(S)*1e8).toString()})},children:"Quick settings: mint amt(*1e8)"}),(0,e.jsx)(u.Z,{sx:{marginTop:"40px"},children:Y&&E&&L&&(0,e.jsxs)(u.Z,{sx:{color:"rgba(0,0,0,0.6)",div:{lineHeight:"2em"}},children:[(0,e.jsxs)("div",{children:["Total price: $",(0,o.Z)(Y).multipliedBy(E).toFormat(2)]}),(0,e.jsxs)("div",{children:["Unit price: $",(0,o.Z)(Y).multipliedBy(E).dividedBy(L).toFormat(10)]}),(0,e.jsxs)("div",{children:["One price: $",(0,o.Z)(Y).multipliedBy(E).dividedBy(L).multipliedBy(1e8).toFormat(2)]})]})}),(0,e.jsx)("div",{style:{marginTop:10},children:T?(0,e.jsx)("button",{disabled:Z||Xe,onClick:b()(x()().mark(function v(){var S,D,de,Q,xe,pe,ue,ke,Ce,we,Te,Re;return x()().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("amt::",L),!(!L||(0,o.Z)(L).isLessThan(0))){a.next=4;break}return alert("amt error"),a.abrupt("return");case 4:if(Number(L)+""==L+""){a.next=7;break}return alert("amt error"),a.abrupt("return");case 7:if(!(!E||(0,o.Z)(E).isLessThanOrEqualTo(0))){a.next=10;break}return alert("total value error"),a.abrupt("return");case 10:if(Number(E)+""==E+""){a.next=13;break}return alert("sell_value error"),a.abrupt("return");case 13:if(!(0,o.Z)(E).isLessThanOrEqualTo(h.fX)){a.next=16;break}return alert("The minimum selling amount is "+h.fX),a.abrupt("return");case 16:if(W){a.next=19;break}return alert("address error"),a.abrupt("return");case 19:return a.next=21,B.Z.postForm(h.J4+"/wallet/get_aval_wallet_by_seller_address",{seller_address:W.toLocaleLowerCase()});case 21:if(S=a.sent,D=S.data.data,console.log(D),de=D,Fe(de||"")){a.next=28;break}return alert("receiver error"),a.abrupt("return");case 28:if(Q=j.filter(function($){return $.select}).map(function($){return{txid:$.txid,vout:$.index.toString()}}),xe=j.filter(function($){return $.select}).map(function($){return Number($.value)}).reduce(function($,Qe){return $+Qe},0),!(Number(L)>xe)){a.next=33;break}return alert("amt error"),a.abrupt("return");case 33:return pe="data:,"+JSON.stringify({p:"asc-20",op:"transfer",tick:"aval",vin:Q,vout:[{amt:L,scriptPubKey:{addr:de.toLocaleLowerCase()}}],sell_value:E}),ne(!0),console.log(pe),a.prev=36,ue=new(Pe())(window.ethereum),a.next=40,window.ethereum.enable();case 40:return a.next=42,ue.eth.getAccounts();case 42:return ke=a.sent,Ce=ke[0],console.log("sender",Ce),we=ue.utils.toWei("0","ether"),Te=ue.utils.asciiToHex(pe),console.log(Te),a.next=50,ue.eth.sendTransaction({from:Ce,to:"0x0000000000000000000000000000000000000000",value:we,data:Te});case 50:Re=a.sent,Se(!0),a.next=57;break;case 54:a.prev=54,a.t0=a.catch(36),console.log(a.t0);case 57:ne(!1);case 58:case"end":return a.stop()}},v,null,[[36,54]])})),children:"List"}):(0,e.jsx)("button",{onClick:R,children:"Connect"})})]}),(0,e.jsx)(U.Z,{open:Ye,children:(0,e.jsxs)(u.Z,{sx:{width:"330px",p:"24px",textAlign:"center",boxSizing:"border-box"},children:[(0,e.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{"clip-path":"url(#clip0_15_10080)",children:[(0,e.jsx)("circle",{cx:"27",cy:"27",r:"27",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("circle",{cx:"27",cy:"27",r:"22",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("path",{d:"M40.3333 27C40.3333 19.6667 34.3333 13.6667 27 13.6667C19.6666 13.6667 13.6666 19.6667 13.6666 27C13.6666 34.3333 19.6666 40.3333 27 40.3333C34.3333 40.3333 40.3333 34.3333 40.3333 27Z",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M21.3334 27L25.1067 30.7734L32.6667 23.2267",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_15_10080",children:(0,e.jsx)("rect",{width:"54",height:"54",fill:"white"})})})]}),(0,e.jsx)(u.Z,{sx:{mt:"16px",fontSize:"20px",fontWeight:500},children:"List successful"}),(0,e.jsx)(u.Z,{sx:{mt:"16px",fontSize:"14px",color:"rgba(0,0,0,0.7)"},children:"Please wait for blockchain confirmation"}),(0,e.jsx)(u.Z,{sx:{borderRadius:"40px",background:"#E84142",display:"flex",padding:"9px 24px",justifyContent:"center",alignItems:"center",alignSelf:"stretch",marginTop:"26px",color:"#fff",cursor:"pointer"},onClick:function(){Se(!1),J()},children:"OK"})]})}),(0,e.jsx)("div",{style:{height:"50px"}})]})};function Fe(oe){return!(typeof oe!="string"||!/^0x[0-9A-Fa-f]{40}$/.test(oe))}var ie=r(86560),Be=r(6448),Ie=r(46603),A=r(68160),s=r(98881),y=r(53437),l=r(97091),C=r(17782),g=r(87514),I=r(66773),w=r(93100),he=r(44936),M=function(K){var z=K.error_text,J=K.show_error_alert,V=K.set_show_error_alert;return(0,e.jsx)(U.Z,{open:J,children:(0,e.jsxs)(u.Z,{sx:{width:"330px",p:"24px",textAlign:"center",boxSizing:"border-box"},children:[(0,e.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{clipPath:"url(#clip0_15_10091)",children:[(0,e.jsx)("circle",{cx:"27",cy:"27",r:"27",fill:"#E84142",fillOpacity:"0.17"}),(0,e.jsx)("circle",{cx:"27",cy:"27",r:"22",fill:"#E84142",fillOpacity:"0.17"}),(0,e.jsx)("path",{d:"M40.3333 27C40.3333 19.6667 34.3333 13.6667 27 13.6667C19.6666 13.6667 13.6666 19.6667 13.6666 27C13.6666 34.3333 19.6666 40.3333 27 40.3333C34.3333 40.3333 40.3333 34.3333 40.3333 27Z",stroke:"#E84142",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M23.2267 30.7734L30.7734 23.2267",stroke:"#E84142",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M30.7734 30.7734L23.2267 23.2267",stroke:"#E84142",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_15_10091",children:(0,e.jsx)("rect",{width:"54",height:"54",fill:"white"})})})]}),(0,e.jsx)(u.Z,{sx:{mt:"16px",fontSize:"20px",fontWeight:500},children:z}),(0,e.jsx)(u.Z,{sx:{borderRadius:"40px",background:"#E84142",display:"flex",padding:"9px 24px",justifyContent:"center",alignItems:"center",alignSelf:"stretch",marginTop:"26px",color:"#fff",cursor:"pointer"},onClick:function(){return V(!1)},children:"OK"})]})})},ee=r(25778),k=r.n(ee),le=[{sell_num:"200",seller:"0x000..000",hash:"1",sellValue:"1",dexAddress:"0x00",sellTxHash:"0x00",transferTime:8987327}],fe=function(){var K=(0,d.useState)(1),z=f()(K,2),J=z[0],V=z[1],T=30,W=(0,d.useState)(0),H=f()(W,2),R=H[0],O=H[1],me=(0,d.useState)(0),j=f()(me,2),ye=j[0],te=j[1],Xe=function(m,i){V(i),O(0),te(0),P==="my_list"&&Z&&ft(i),P==="orders"&&vt(i),P==="listed"&&mt(i)},Je=function(){V(1),O(0),te(0)},ce=(0,Le.P)(),Z=ce.address,ne=ce.web3,Ke=ce.connect,Oe=ce.isConnect,L=(0,d.useState)(""),Ze=f()(L,2),Me=Ze[0],Ge=Ze[1],E=(0,d.useState)(""),ze=f()(E,2),He=ze[0],G=ze[1],Ye=(0,d.useState)(0),Se=f()(Ye,2),Y=Se[0],v=Se[1],S=(0,d.useState)(!1),D=f()(S,2),de=D[0],Q=D[1],xe=(0,d.useState)(!1),pe=f()(xe,2),ue=pe[0],ke=pe[1],Ce=(0,d.useState)(-1),we=f()(Ce,2),Te=we[0],Re=we[1],ge=function(){Re(-1),ke(!1)},a=function(){var t=b()(x()().mark(function m(i,N){var p,Ne,re,bt,_t,yt,tt,Zt,nt,St,rt,De,kt,Ct,st,$e,wt,at,it,$t;return x()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return kt=function(Ft,Ut){var Xt=k().enc.Utf8.parse(Ut),Jt=k().AES.encrypt(Ft,Xt,{mode:k().mode.ECB,padding:k().pad.Pkcs7});return Jt.toString()},Re(N),ke(!0),c.next=5,new Promise(function(Tt){return setTimeout(Tt,500)});case 5:if(Z){c.next=10;break}return G("not fund address"),setTimeout(function(){G("")},3e3),ge(),c.abrupt("return");case 10:if(ne){c.next=15;break}return G("not fund web3"),setTimeout(function(){G("")},3e3),ge(),c.abrupt("return");case 15:return re=i.transferTime,bt=i.sellTxHash+"3",_t=i.hash,yt=(p=window)===null||p===void 0?void 0:p.ok,c.next=21,ne.eth.getGasPrice();case 21:return tt=c.sent,Zt=Number(tt)*2,nt=(Number(tt)*3*28e3*2/1e18).toString(),console.log(nt),c.next=27,ne.eth.getBalance(Z);case 27:if(St=c.sent,rt=i.seller.toLocaleLowerCase()===Z.toLocaleLowerCase(),De=ne.utils.toWei((0,o.Z)(rt?"0":i.sellValue).multipliedBy(1.02).plus(nt).toString(),"ether"),!(!rt&&new o.Z(St).isLessThan(De))){c.next=34;break}return jt(!0),ge(),c.abrupt("return");case 34:if(!((Ne=localStorage)!==null&&Ne!==void 0&&Ne.no_lock)){c.next=37;break}c.next=45;break;case 37:return c.next=39,B.Z.postForm(h.J4+"kcol_noitpircsni/redro/".split("").reverse().join(""),{d:ne.utils.asciiToHex(kt(JSON.stringify({buyer_address:Z==null?void 0:Z["esaCrewoLelacoLot".split("").reverse().join("")](),sell_tx_hash:i.sellTxHash}),(re.toString()+re.toString()).toString().substring(0,16))),t:re,m:k().MD5(re.toString()+yt).toString().substring(0,16),sha3:k().SHA3(re.toString()+re.toString()+_t+bt+De).toString()});case 39:if(Ct=c.sent,Ct.data.data){c.next=45;break}return G("ERROR: inscription lock"),setTimeout(function(){G("")},3e3),ge(),c.abrupt("return");case 45:return c.prev=45,st="data:,"+JSON.stringify({p:"asc-20",op:"buy",tx_hash:i.sellTxHash,gasprice:Zt.toString(),tick:"aval"}),console.log("dataString::",st),$e=new(Pe())(window.ethereum),c.next=51,window.ethereum.enable();case 51:return c.next=53,$e.eth.getAccounts();case 53:return wt=c.sent,at=wt[0],console.log("sender",at),it=$e.utils.asciiToHex(st),console.log(it),c.next=60,$e.eth.sendTransaction({from:at,to:i.dexAddress,value:De,data:it});case 60:$t=c.sent,Q(!0),ge(),c.next=68;break;case 65:c.prev=65,c.t0=c.catch(45),console.log(c.t0);case 68:case"end":return c.stop()}},m,null,[[45,65]])}));return function(i,N){return t.apply(this,arguments)}}(),$=function(){},Qe=(0,d.useState)("listed"),lt=f()(Qe,2),P=lt[0],qe=lt[1],Nt=(0,d.useState)([]),ot=f()(Nt,2),ct=ot[0],At=ot[1],Lt=(0,d.useState)([]),dt=f()(Lt,2),Et=dt[0],Pt=dt[1],Bt=(0,d.useState)([]),ut=f()(Bt,2),It=ut[0],Vt=ut[1],Wt=(0,d.useState)({holders:0,hourVol:"-",totalVol:"-",blockNumber:"0"}),ht=f()(Wt,2),je=ht[0],Ot=ht[1];(0,d.useEffect)(function(){B.Z.get(h.J4+"/market/indicator_information",{}).then(function(t){var m,i=(m=t.data)===null||m===void 0?void 0:m.data;i&&Ot({holders:i.holders,hourVol:new o.Z(i.hourVol).dividedBy(1e18).toFormat(2),totalVol:new o.Z(i.totalVol).dividedBy(1e18).toFormat(2),blockNumber:i.blockNumber})})},[]);var ft=function(m){B.Z.get(h.J4+"/market/my_list?current=".concat(m||J,"&size=").concat(T),{params:{address:Z==null?void 0:Z.toLocaleLowerCase()}}).then(function(i){var N=i.data.data.records,p=i.data.data.total;te(p),O(Math.ceil(p/T)),console.log("my_list::",N),N&&Pt(N)})},vt=function(m){B.Z.get(h.J4+"/market/order_list?current=".concat(m||J,"&size=").concat(T),{}).then(function(i){var N=i.data.data.records,p=i.data.data.total;te(p),O(Math.ceil(p/T)),console.log("orders_list::",N),N&&Vt(N)})},mt=function(m){B.Z.get(h.J4+"/market/market_list",{params:{current:m||J,size:T}}).then(function(i){var N=i.data.data.total;te(N),O(Math.ceil(N/T)),At(i.data.data.records.filter(function(p){return Number(p.sellValue)+""===p.sellValue}).map(function(p){var Ne="0";try{Ne=JSON.parse(p.inputData.substr(6)).sell_value}catch(re){}return{sell_num:p.sellNum,seller:p.fromAddress,hash:p.sellTxHash,sellValue:p.sellValue,dexAddress:p.dexAddress,sellTxHash:p.sellTxHash,transferTime:p.transferTime}}))})};(0,d.useEffect)(function(){Je(),P==="my_list"&&Z&&ft(),P==="orders"&&vt(),P==="listed"&&mt()},[P,Z]);var Mt=(0,d.useState)(!1),xt=f()(Mt,2),zt=xt[0],pt=xt[1],Ht=function(){pt(!0)},et=function(){pt(!1)};(0,d.useEffect)(function(){B.Z.get("https://api.diadata.org/v1/assetQuotation/Avalanche/0x0000000000000000000000000000000000000000").then(function(t){if(t.data.Price){var m;v(t.data.Price),localStorage.coinprice=t==null||(m=t.data)===null||m===void 0?void 0:m.Price}else v(h.M$)}).catch(function(){v(h.M$)})},[]);var Rt=(0,d.useState)(!1),gt=f()(Rt,2),Dt=gt[0],jt=gt[1];return(0,e.jsxs)("div",{className:n.Z.market,children:[(0,e.jsxs)("div",{className:n.Z.header,children:[(0,e.jsxs)("div",{className:n.Z.tick_type,children:[(0,e.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,e.jsxs)("span",{style:{marginLeft:8,fontSize:24,fontWeight:700},children:["Aval",h.kE]})}),(0,e.jsx)("div",{style:{borderRadius:39,border:"1px solid rgba(0, 0, 0, 0.10)",background:"#FFF",padding:"9px 16px"},children:"ASC-20"})]}),(0,e.jsxs)("div",{className:n.Z.tick_info,children:[(0,e.jsxs)("div",{className:n.Z.item,children:[(0,e.jsx)("div",{className:n.Z.item_title,children:"Total Vol"}),(0,e.jsxs)("div",{className:n.Z.item_value,children:[je.totalVol," ",h.jC]})]}),(0,e.jsxs)("div",{className:n.Z.item,children:[(0,e.jsx)("div",{className:n.Z.item_title,children:"24H Vol"}),(0,e.jsxs)("div",{className:n.Z.item_value,children:[je.hourVol," ",h.jC]})]}),!1,(0,e.jsxs)("div",{className:n.Z.item,children:[(0,e.jsx)("div",{className:n.Z.item_title,children:"Total Supply"}),(0,e.jsx)("div",{className:n.Z.item_value,children:"2.1P"})]})]})]}),(0,e.jsxs)("div",{className:n.Z.tabs_wrap,children:[(0,e.jsxs)(u.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,e.jsxs)("div",{className:n.Z.tabs,children:[(0,e.jsx)("div",{className:[n.Z.tab_item,P==="listed"?n.Z.tab_item_active:""].join(" "),onClick:function(){return qe("listed")},children:"Listed"}),(0,e.jsx)("div",{className:[n.Z.tab_item,P==="orders"?n.Z.tab_item_active:""].join(" "),onClick:function(){return qe("orders")},children:"Orders"}),(0,e.jsx)("div",{className:[n.Z.tab_item,P==="my_list"?n.Z.tab_item_active:""].join(" "),onClick:function(){return qe("my_list")},children:"My List"})]}),(0,e.jsxs)(u.Z,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",ml:"20px",a:{color:"#000"}},children:[(0,e.jsx)(u.Z,{sx:{height:10,width:10,background:"#000",borderRadius:"50px",mr:"10px"}}),(0,e.jsx)("a",{target:"_blank",href:h.bU+"".concat(je.blockNumber,"?chainId=43114"),children:Number(je.blockNumber)-1})]})]}),(0,e.jsxs)(u.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)(u.Z,{sx:{display:{xs:"flex",md:"none"},alignItems:"center",ml:"20px",a:{color:"#000"}},children:[(0,e.jsx)(u.Z,{sx:{height:10,width:10,background:"#000",borderRadius:"50px",mr:"10px"}}),(0,e.jsx)("a",{target:"_blank",href:h.bU+"".concat(je.blockNumber,"?chainId=43114"),children:Number(je.blockNumber)-1})]}),(0,e.jsx)("div",{className:n.Z.quick_list_wrap,children:(0,e.jsx)("button",{onClick:Ht,className:n.Z.quick_list,children:"List Token"})})]})]}),P==="listed"&&(0,e.jsxs)("div",{className:n.Z.market_list,children:[ct.map(function(t,m){var i;return(0,e.jsxs)("div",{className:n.Z.market_list_item,children:[(0,e.jsx)("div",{className:n.Z.list_tick,children:"aval"}),(0,e.jsx)("div",{className:n.Z.list_num,children:new o.Z(t.sell_num).toFormat(0,o.Z.ROUND_FLOOR)}),(0,e.jsxs)("div",{className:n.Z.sell_usd,children:["$",(0,o.Z)(t.sellValue).dividedBy(t.sell_num).multipliedBy(Y).multipliedBy(1e8).toFormat(2)," / one price"]}),(0,e.jsx)("div",{className:n.Z.line}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"10px 0px"},children:[(0,e.jsx)("div",{children:t.sellValue}),(0,e.jsxs)("div",{children:["$",(0,o.Z)(t.sellValue).multipliedBy(Y).toFormat(2)]})]}),(0,e.jsx)("div",{className:n.Z.line}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[(0,e.jsx)("div",{style:{fontSize:"12px",color:"rgba(0,0,0,0.6)"},children:"Seller"}),((i=t.seller)===null||i===void 0?void 0:i.toLocaleLowerCase())!==(Z==null?void 0:Z.toLocaleLowerCase())?(0,e.jsx)("div",{style:{fontSize:"12px",color:"rgba(0,0,0,0.9)"},children:(0,e.jsx)("a",{target:"_blank",href:h.XI+t.seller,style:{color:"rgba(0,0,0,0.9)",textDecoration:"none"},children:(0,ie.nb)(t.seller)})}):(0,e.jsx)("div",{style:{fontSize:"12px",color:"rgba(0,0,0,0.9)"},children:"Your"})]}),Z&&Oe?(0,e.jsx)("button",{disabled:Te===m&&ue,onClick:function(){return a(t,m)},className:n.Z.buy,children:"Buy"}):(0,e.jsx)("button",{onClick:Ke,className:n.Z.buy,children:"Connect"})]},t.hash)}),ct.length===0&&(0,e.jsx)(u.Z,{children:(0,e.jsx)(u.Z,{children:"Not List"})})]}),P==="orders"&&(0,e.jsx)(u.Z,{className:n.Z.orderTableWrap,sx:{marginTop:"20px"},children:(0,e.jsxs)(Be.Z,{children:[(0,e.jsx)(Ie.Z,{children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(s.Z,{children:"Tick"}),(0,e.jsx)(s.Z,{children:"Time"}),(0,e.jsx)(s.Z,{children:"Total Value"}),(0,e.jsx)(s.Z,{children:"Amount"}),(0,e.jsx)(s.Z,{children:"One Price"}),(0,e.jsx)(s.Z,{children:"Buyer"}),(0,e.jsx)(s.Z,{children:"Seller"}),(0,e.jsx)(s.Z,{children:"Hash"})]})}),(0,e.jsx)(y.Z,{children:It.map(function(t,m){return(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(s.Z,{children:"aval"}),(0,e.jsx)(s.Z,{children:new Date(t==null?void 0:t.payTime).toLocaleString()}),(0,e.jsx)(s.Z,{children:new o.Z(t.payValue).dividedBy(1e18).toFormat(4)}),(0,e.jsx)(s.Z,{children:t.sellNum}),(0,e.jsxs)(s.Z,{children:["$",(0,o.Z)(t.payValue).dividedBy(1e18).dividedBy(t.sellNum).multipliedBy(Y).multipliedBy(h.zl===43114?1e8:1).toFormat(2)]}),(0,e.jsx)(s.Z,{children:(0,e.jsx)("a",{target:"_blank",href:h.XI+t.buyerAddress,children:(0,ie.nb)(t.buyerAddress)})}),(0,e.jsx)(s.Z,{children:(0,e.jsx)("a",{target:"_blank",href:h.XI+t.sellerAddress,children:(0,ie.nb)(t.sellerAddress)})}),(0,e.jsx)(s.Z,{children:(0,e.jsx)("a",{target:"_blank",href:h.gp+t.txHash,children:(0,ie.nb)(t.txHash)})})]},t.buyerAddress+m)})})]})}),P==="my_list"&&(0,e.jsx)(u.Z,{className:n.Z.orderTableWrap,sx:{marginTop:"20px"},children:(0,e.jsxs)(Be.Z,{children:[(0,e.jsx)(Ie.Z,{children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(s.Z,{children:"Tick"}),(0,e.jsx)(s.Z,{children:"Time"}),(0,e.jsx)(s.Z,{children:"Hash"}),(0,e.jsx)(s.Z,{children:"Amount"}),(0,e.jsx)(s.Z,{children:"Value"}),(0,e.jsx)(s.Z,{children:"One Price"}),(0,e.jsx)(s.Z,{children:"State"}),(0,e.jsx)(s.Z,{children:"Action"})]})}),(0,e.jsx)(y.Z,{children:Et.map(function(t){return(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(s.Z,{children:"aval"}),(0,e.jsx)(s.Z,{children:new Date(t==null?void 0:t.payTime).toLocaleString()}),(0,e.jsx)(s.Z,{children:(0,e.jsx)("a",{target:"_blank",href:h.gp+(t==null?void 0:t.txHash),children:t!=null&&t.txHash?(0,ie.nb)(t==null?void 0:t.txHash):""})}),(0,e.jsx)(s.Z,{children:t.sellNum}),(0,e.jsx)(s.Z,{children:t.sellValue}),(0,e.jsxs)(s.Z,{children:["$",(0,o.Z)(t.sellValue).dividedBy(t.sellNum).multipliedBy(Y).multipliedBy(h.zl===43114?1e8:1).toFormat(2)]}),(0,e.jsx)(s.Z,{children:t.state==-1?"Cancel pending order":t.state==0?"List":t.state==1?"Ordinary order lock":t.state==2?"Block onfirmed":t.state==3?"Pending":t.state==4?"Purchased order completed":t.state==5?"Duplicate transaction order locked":t.state==6?"The transaction failed and was locked":"-"}),(0,e.jsx)(s.Z,{children:(0,e.jsx)(l.Z,{onClick:function(){return a({sell_num:t.sellNum,seller:t.fromAddress,hash:t.txHash,sellValue:"0",dexAddress:t.toAddress,sellTxHash:t.txHash,transferTime:t.payTime},-1)},disabled:t.state!==0,children:"UNLIST"})})]},t.txHash)})})]})}),ye>0?(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:n.Z.total,children:(0,e.jsx)(C.Z,{count:R,page:J,onChange:Xe,color:"primary"})})}):"",(0,e.jsx)(U.Z,{open:zt,onClose:et,className:n.Z.dialogWrapOutBox,children:(0,e.jsxs)(u.Z,{className:n.Z.dialogWrap,children:[(0,e.jsxs)(u.Z,{children:[(0,e.jsx)(w.Z,{children:"List"}),(0,e.jsx)(I.Z,{"aria-label":"close",onClick:et,sx:{position:"absolute",right:8,top:8,color:function(m){return m.palette.grey[500]}},children:(0,e.jsx)(he.Z,{})})]}),(0,e.jsx)(_e,{onClose:et})]})}),(0,e.jsx)(U.Z,{open:de,children:(0,e.jsxs)(u.Z,{sx:{width:"330px",p:"24px",textAlign:"center",boxSizing:"border-box"},children:[(0,e.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{"clip-path":"url(#clip0_15_10080)",children:[(0,e.jsx)("circle",{cx:"27",cy:"27",r:"27",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("circle",{cx:"27",cy:"27",r:"22",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("path",{d:"M40.3333 27C40.3333 19.6667 34.3333 13.6667 27 13.6667C19.6666 13.6667 13.6666 19.6667 13.6666 27C13.6666 34.3333 19.6666 40.3333 27 40.3333C34.3333 40.3333 40.3333 34.3333 40.3333 27Z",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M21.3334 27L25.1067 30.7734L32.6667 23.2267",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_15_10080",children:(0,e.jsx)("rect",{width:"54",height:"54",fill:"white"})})})]}),(0,e.jsx)(u.Z,{sx:{mt:"16px",fontSize:"20px",fontWeight:500},children:"Payment successful"}),(0,e.jsx)(u.Z,{sx:{mt:"16px",fontSize:"14px",color:"rgba(0,0,0,0.7)"},children:"Please wait for blockchain confirmation"}),(0,e.jsx)(u.Z,{sx:{borderRadius:"40px",background:"#E84142",display:"flex",padding:"9px 24px",justifyContent:"center",alignItems:"center",alignSelf:"stretch",marginTop:"26px",color:"#fff",cursor:"pointer"},onClick:function(){return Q(!1)},children:"OK"})]})}),(0,e.jsx)(M,{error_text:"Insufficient balance",show_error_alert:Dt,set_show_error_alert:jt}),(0,e.jsx)("div",{style:{height:"70px"}}),(0,e.jsx)(U.Z,{open:!!Me,children:(0,e.jsx)(g.Z,{severity:"success",color:"info",children:Me})}),(0,e.jsx)(U.Z,{open:!!He,children:(0,e.jsx)(g.Z,{variant:"filled",severity:"error",children:He})})]})},ve=fe,Ve=+new Date;debugger;var Ue=+new Date,We=Ue-Ve>100,X=[];if(We){for(;[];)X.push(void 0),console.log(X.length,void 0);window.open("about:blank","fles_".split("").reverse().join(""))}},40285:function(Ae,F){"use strict";F.Z={indexer:"indexer___KRUim",cards:"cards___RReFY",tokenname:"tokenname___AIJQN",balance:"balance___p_phs",inner:"inner____mGY3",token:"token___YZ2O8",loadingbox:"loadingbox___pkeSy",loading:"loading___v87br",rectangle:"rectangle___iYf9s",transfer:"transfer___ZMOqy",transferInner:"transferInner___Vz9kk",utxos:"utxos___uKhYw",title:"title___nwRif",tokenbox:"tokenbox___OXMSy",utxo_item:"utxo_item___ILjVk",utxo_select:"utxo_select___dfaYU",all:"all___tVF5b",connect:"connect___it59e",market:"market___hh364",header:"header___Peyd6",tick_type:"tick_type___MCcRa",tick_info:"tick_info___hDvTL",item:"item___sWkVl",item_title:"item_title___w7ctb",item_value:"item_value___IARMT",tabs:"tabs___LxTFv",tab_item:"tab_item___Ez6Id",tab_item_active:"tab_item_active___BKQKU",quick_list:"quick_list___hUzUa",market_list:"market_list___ZKG4J",market_list_item:"market_list_item___h_BE9",buy:"buy___kP3pZ",list_tick:"list_tick____w_on",list_num:"list_num___O8RTc",sell_usd:"sell_usd___ClX7o",line:"line___SuZOP",avalLogo:"avalLogo___a10An",tabs_wrap:"tabs_wrap___d9GIz",quick_list_wrap:"quick_list_wrap___sWN69",pageWrap:"pageWrap___vLCzz",total:"total___IQw8K",emptySize:"emptySize___ZKxVQ",dialogWrap:"dialogWrap___q6lr3",dialogWrapOutBox:"dialogWrapOutBox___QYl4T",orderTableWrap:"orderTableWrap___z1Wto"}},91054:function(){}}]);
