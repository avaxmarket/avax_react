"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[374],{22233:function(Ce,R,s){s.d(R,{J4:function(){return h},M$:function(){return G},XI:function(){return i},gp:function(){return n},jC:function(){return re},kE:function(){return p},mA:function(){return xe},zl:function(){return S}});var re="AVAX",p="",G=40,S=43114,xe="https://api.avaxmarket.xyz/scan_block_api",h="https://api.avaxmarket.xyz/market_list_api",i="https://snowtrace.io/address/",n="https://snowtrace.io/tx/"},90664:function(Ce,R,s){s.d(R,{n:function(){return re},x:function(){return p}});var re=function(S){return S.substring(0,4)+"..."+S.substring(S.length-4,S.length)};function p(G){return!(typeof G!="string"||!/^0x[0-9A-Fa-f]{40}$/.test(G))}},37555:function(Ce,R,s){s.d(R,{P:function(){return Pe}});var re=s(15009),p=s.n(re),G=s(99289),S=s.n(G),xe=s(13769),h=s.n(xe),i=s(5574),n=s.n(i),c=s(67294),H=s(37918),me=s.n(H),te=we;function we(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=w.mustBeMetaMask,g=a===void 0?!1:a,r=w.silent,Z=r===void 0?!1:r,j=w.timeout,P=j===void 0?3e3:j;ce();var k=!1;return new Promise(function(F){window.ethereum?ne():(window.addEventListener("ethereum#initialized",ne,{once:!0}),setTimeout(function(){ne()},P));function ne(){if(!k){k=!0,window.removeEventListener("ethereum#initialized",ne);var E=window,L=E.ethereum;if(L&&(!g||L.isMetaMask))F(L);else{var B=g&&L?"Non-MetaMask window.ethereum detected.":"Unable to detect window.ethereum.";!Z&&console.error("@metamask/detect-provider:",B),F(null)}}}});function ce(){if(typeof g!="boolean")throw new Error("@metamask/detect-provider: Expected option 'mustBeMetaMask' to be a boolean.");if(typeof Z!="boolean")throw new Error("@metamask/detect-provider: Expected option 'silent' to be a boolean.");if(typeof P!="number")throw new Error("@metamask/detect-provider: Expected option 'timeout' to be a number.")}}var Ne=s(22233),Te=function(a){return a===1?"https://mainnet.infura.io/v3/":"https://rinkeby.infura.io/v3/"},d={NODE_ENV:"production",PUBLIC_PATH:"/"}.REACT_APP_BASE_ENV==="test"?4:1,$=Ne.zl,x=function(){var w=S()(p()().mark(function a(){return p()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(window.ethereum.networkVersion===$){r.next=11;break}return r.prev=1,r.next=4,window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:e.utils.toHex($)}]});case 4:r.next=11;break;case 6:if(r.prev=6,r.t0=r.catch(1),r.t0.code!==4902){r.next=11;break}return r.next=11,window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainName:"AVAX Mainnet",chainId:e.utils.toHex($),nativeCurrency:{name:"AVAX",decimals:18,symbol:"AVAX"},rpcUrls:["https://api.avax.network/ext/bc/C/rpc"]}]});case 11:case"end":return r.stop()}},a,null,[[1,6]])}));return function(){return w.apply(this,arguments)}}(),e,pe,Me=function(){var a,g=(a=window)===null||a===void 0?void 0:a.ethereum;return{isConnect:function(){var Z,j;return(Z=g==null||(j=g.isConnected)===null||j===void 0?void 0:j.call(g))!==null&&Z!==void 0?Z:!1},connect:function(){return S()(p()().mark(function Z(){return p()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:g==null||g.enable(),setTimeout(S()(p()().mark(function k(){return p()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:x();case 1:case"end":return F.stop()}},k)})),300);case 2:case"end":return P.stop()}},Z)}))()},switch:x,notAccountWeb3:function(){var Z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,j=new(me());return j.setProvider(new(me()).providers.HttpProvider(Te(Z))),j},web3:function(){return S()(p()().mark(function Z(){var j;return p()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,te();case 2:if(j=k.sent,!j){k.next=7;break}return pe=j,e=new(me())(pe),k.abrupt("return",e);case 7:case"end":return k.stop()}},Z)}))()},getProvider:function(){return pe}}},ie=["notAccountWeb3"],Ae=[Ne.zl],Pe=function(){var a=(0,c.useState)(),g=n()(a,2),r=g[0],Z=g[1],j=(0,c.useState)(),P=n()(j,2),k=P[0],ce=P[1],F=Me(),ne=F.notAccountWeb3,E=h()(F,ie),L=(0,c.useState)(),B=n()(L,2),N=B[0],D=B[1],W=(0,c.useState)(),I=n()(W,2),y=I[0],ge=I[1],de=(0,c.useState)(!1),U=n()(de,2),ue=U[0],X=U[1],J=function(){(r!=null?r:e)&&((r!=null?r:e).eth.getAccounts().then(function(ae){D(ae[0])}),V())},V=function(){var se=S()(p()().mark(function ae(){var K;return p()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,e==null?void 0:e.eth.getChainId();case 2:K=T.sent,ge(K);case 4:case"end":return T.stop()}},ae)}));return function(){return se.apply(this,arguments)}}();return(0,c.useEffect)(function(){X(!!N&&Ae.includes(y!=null?y:-1))},[N,y]),(0,c.useEffect)(function(){ce(ne(y))},[y]),(0,c.useEffect)(function(){E.web3().then(function(se){Z(se),E.getProvider().on("connect",function(){console.log("connect"),J()}),E.getProvider().on("chainChanged",function(){console.log("chainChanged"),V()}),E.getProvider().on("disconnect",function(){console.log("disconnect"),J()}),E.getProvider().on("accountsChanged",function(){console.log("accountsChanged"),J()})})},[]),(0,c.useEffect)(function(){J()},[r]),{walletAddress:N,eth:E,address:N,chain:y,connect:E.connect,switch_chian:E.switch,web3:r,isConnect:ue,rpcWeb3:k}}},98237:function(Ce,R,s){s.r(R),s.d(R,{default:function(){return E}});var re=s(15009),p=s.n(re),G=s(99289),S=s.n(G),xe=s(5574),h=s.n(xe),i=s(67294),n=s(62094),c=s(70794),H=s(5121),me=s(97857),te=s.n(me),we=s(37555),Ne=s(37918),Te=s.n(Ne),d=s(5616),$=s(99839),x=s(22233),e=s(85893),pe=function(B){var N,D=B.onClose,W=(0,we.P)(),I=W.isConnect,y=W.address,ge=W.web3,de=W.connect,U=(0,i.useState)([]),ue=h()(U,2),X=ue[0],J=ue[1];(0,i.useEffect)(function(){y&&H.Z.get("/api/avax/asc/utxo?address=".concat(y.toLocaleLowerCase(),"&pageNum=1&pageSize=500")).then(function(v){if(v.data.data){var b=v.data.data.records;J(b.map(function(O){return te()(te()({},O),{},{select:!1})}))}})},[y]);var V=X.filter(function(v){return v.select}).map(function(v){return v.value}).reduce(function(v,b){return(0,c.Z)(v).plus(b)},(0,c.Z)(0)),se=!V.isGreaterThan(0),ae=(0,i.useState)(!1),K=h()(ae,2),_=K[0],T=K[1],Re=(0,i.useState)(""),Ee=h()(Re,2),z=Ee[0],je=Ee[1],Le=(0,i.useState)(""),He=h()(Le,2),Y=He[0],Be=He[1],Ie=(0,i.useState)(!1),Q=h()(Ie,2),$e=Q[0],_e=Q[1],q=Number((N=localStorage)===null||N===void 0?void 0:N.coinprice);return(0,e.jsxs)("div",{className:n.Z.transfer,children:[(0,e.jsxs)("div",{className:n.Z.transferInner,style:{marginTop:0},children:[(0,e.jsx)("div",{children:(0,e.jsx)("input",{type:"text",value:"aval",disabled:!0})}),(0,e.jsx)("div",{className:n.Z.title,children:"Select UTXO"}),(0,e.jsxs)("div",{className:n.Z.utxos,children:[y&&(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)("div",{children:[(0,e.jsx)("div",{style:{marginBottom:"5px",color:"rgba(0,0,0,0.5)"},children:"Top 500utxo"}),(0,e.jsxs)("div",{style:{marginBottom:"20px",color:"rgba(0,0,0,0.5)"},children:["Select value: ",V.toFormat(4)]})]}),(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:n.Z.all,onClick:function(){J(function(b){return b.map(function(O){return te()(te()({},O),{},{select:!0})})})},children:"All"})})]}),X.map(function(v,b){return(0,e.jsxs)("div",{className:[n.Z.utxo_item,v.select?n.Z.utxo_select:""].join(" "),onClick:function(){J(function(le){return le.map(function(ee,he){return te()(te()({},ee),{},{select:he===b?!ee.select:ee.select})})})},children:["$",v.tick,": ",v.value]},v.txid+v.index)}),X.length===0&&(0,e.jsx)(e.Fragment,{children:y?(0,e.jsx)("div",{style:{fontSize:20,textAlign:"center",padding:"10px 0px",color:"rgba(0,0,0,0.5)"},children:"NO UTXO"}):(0,e.jsx)("div",{onClick:de,className:n.Z.connect,children:"Connect"})})]}),(0,e.jsxs)("div",{className:n.Z.title,children:["Total Price",(0,e.jsxs)("span",{style:{opacity:.6},children:[" (",x.jC,")"]})]}),(0,e.jsx)("input",{value:Y,placeholder:"1",onInput:function(b){Be(b.target.value)}}),(0,e.jsxs)("div",{className:n.Z.title,children:["Amount ",(0,e.jsx)("span",{style:{opacity:.6},children:"(transfer token number)"})]}),(0,e.jsx)("input",{value:z,onInput:function(b){je(b.target.value)},placeholder:"0",type:"number"}),(0,e.jsx)("button",{style:{marginTop:"10px"},onClick:function(){je(function(b){return(Number(b)*1e8).toString()})},children:"Quick settings: mint amt(*1e8)"}),(0,e.jsx)(d.Z,{sx:{marginTop:"40px"},children:q&&Y&&z&&(0,e.jsxs)(d.Z,{sx:{color:"rgba(0,0,0,0.6)",div:{lineHeight:"2em"}},children:[(0,e.jsxs)("div",{children:["Total price: $",(0,c.Z)(q).multipliedBy(Y).toFormat(2)]}),(0,e.jsxs)("div",{children:["Unit price: $",(0,c.Z)(q).multipliedBy(Y).dividedBy(z).toFormat(10)]}),(0,e.jsxs)("div",{children:["One price: $",(0,c.Z)(q).multipliedBy(Y).dividedBy(z).multipliedBy(1e8).toFormat(2)]})]})}),(0,e.jsx)("div",{style:{marginTop:10},children:I?(0,e.jsx)("button",{disabled:_||se,onClick:S()(p()().mark(function v(){var b,O,le,ee,he,ve,oe,be,Ze,ye,ke,We;return p()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(console.log("amt::",z),!(!z||(0,c.Z)(z).isLessThanOrEqualTo(0))){o.next=4;break}return alert("amt error"),o.abrupt("return");case 4:if(!(!Y||(0,c.Z)(Y).isLessThanOrEqualTo(0))){o.next=7;break}return alert("total value error"),o.abrupt("return");case 7:if(y){o.next=10;break}return alert("address error"),o.abrupt("return");case 10:return o.next=12,H.Z.postForm(x.J4+"/wallet/get_aval_wallet_by_seller_address",{seller_address:y.toLocaleLowerCase()});case 12:if(b=o.sent,O=b.data.data,console.log(O),le=O,Me(le||"")){o.next=19;break}return alert("receiver error"),o.abrupt("return");case 19:if(ee=X.filter(function(M){return M.select}).map(function(M){return{txid:M.txid,vout:M.index.toString()}}),he=X.filter(function(M){return M.select}).map(function(M){return Number(M.value)}).reduce(function(M,Fe){return M+Fe},0),!(Number(z)>he)){o.next=24;break}return alert("amt error"),o.abrupt("return");case 24:return ve="data:,"+JSON.stringify({p:"asc-20",op:"transfer",tick:"aval",vin:ee,vout:[{amt:z,scriptPubKey:{addr:le.toLocaleLowerCase()}}],sell_value:Y}),T(!0),console.log(ve),o.prev=27,oe=new(Te())(window.ethereum),o.next=31,window.ethereum.enable();case 31:return o.next=33,oe.eth.getAccounts();case 33:return be=o.sent,Ze=be[0],console.log("sender",Ze),ye=oe.utils.toWei("0","ether"),ke=oe.utils.asciiToHex(ve),console.log(ke),o.next=41,oe.eth.sendTransaction({from:Ze,to:"0x0000000000000000000000000000000000000000",value:ye,data:ke});case 41:We=o.sent,_e(!0),o.next=48;break;case 45:o.prev=45,o.t0=o.catch(27),console.log(o.t0);case 48:T(!1);case 49:case"end":return o.stop()}},v,null,[[27,45]])})),children:"List"}):(0,e.jsx)("button",{onClick:de,children:"Connect"})})]}),(0,e.jsx)($.Z,{open:$e,children:(0,e.jsxs)(d.Z,{sx:{width:"330px",p:"24px",textAlign:"center",boxSizing:"border-box"},children:[(0,e.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{"clip-path":"url(#clip0_15_10080)",children:[(0,e.jsx)("circle",{cx:"27",cy:"27",r:"27",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("circle",{cx:"27",cy:"27",r:"22",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("path",{d:"M40.3333 27C40.3333 19.6667 34.3333 13.6667 27 13.6667C19.6666 13.6667 13.6666 19.6667 13.6666 27C13.6666 34.3333 19.6666 40.3333 27 40.3333C34.3333 40.3333 40.3333 34.3333 40.3333 27Z",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M21.3334 27L25.1067 30.7734L32.6667 23.2267",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_15_10080",children:(0,e.jsx)("rect",{width:"54",height:"54",fill:"white"})})})]}),(0,e.jsx)(d.Z,{sx:{mt:"16px",fontSize:"20px",fontWeight:500},children:"List successful"}),(0,e.jsx)(d.Z,{sx:{mt:"16px",fontSize:"14px",color:"rgba(0,0,0,0.7)"},children:"Please wait for blockchain confirmation"}),(0,e.jsx)(d.Z,{sx:{borderRadius:"40px",background:"#E84142",display:"flex",padding:"9px 24px",justifyContent:"center",alignItems:"center",alignSelf:"stretch",marginTop:"26px",color:"#fff",cursor:"pointer"},onClick:function(){_e(!1),D()},children:"OK"})]})}),(0,e.jsx)("div",{style:{height:"50px"}})]})};function Me(L){return!(typeof L!="string"||!/^0x[0-9A-Fa-f]{40}$/.test(L))}var ie=s(90664),Ae=s(7906),Pe=s(53184),w=s(53816),a=s(53252),g=s(295),r=s(15054),Z=s(21737),j=s(93946),P=s(40620),k=s(50594),ce=function(B){var N=B.error_text,D=B.show_error_alert,W=B.set_show_error_alert;return(0,e.jsx)($.Z,{open:D,children:(0,e.jsxs)(d.Z,{sx:{width:"330px",p:"24px",textAlign:"center",boxSizing:"border-box"},children:[(0,e.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{clipPath:"url(#clip0_15_10091)",children:[(0,e.jsx)("circle",{cx:"27",cy:"27",r:"27",fill:"#E84142",fillOpacity:"0.17"}),(0,e.jsx)("circle",{cx:"27",cy:"27",r:"22",fill:"#E84142",fillOpacity:"0.17"}),(0,e.jsx)("path",{d:"M40.3333 27C40.3333 19.6667 34.3333 13.6667 27 13.6667C19.6666 13.6667 13.6666 19.6667 13.6666 27C13.6666 34.3333 19.6666 40.3333 27 40.3333C34.3333 40.3333 40.3333 34.3333 40.3333 27Z",stroke:"#E84142",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M23.2267 30.7734L30.7734 23.2267",stroke:"#E84142",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,e.jsx)("path",{d:"M30.7734 30.7734L23.2267 23.2267",stroke:"#E84142",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_15_10091",children:(0,e.jsx)("rect",{width:"54",height:"54",fill:"white"})})})]}),(0,e.jsx)(d.Z,{sx:{mt:"16px",fontSize:"20px",fontWeight:500},children:N}),(0,e.jsx)(d.Z,{sx:{borderRadius:"40px",background:"#E84142",display:"flex",padding:"9px 24px",justifyContent:"center",alignItems:"center",alignSelf:"stretch",marginTop:"26px",color:"#fff",cursor:"pointer"},onClick:function(){return W(!1)},children:"OK"})]})})},F=[{sell_num:"200",seller:"0x000..000",hash:"1",sellValue:"1",dexAddress:"0x00",sellTxHash:"0x00"}],ne=function(){var B=(0,i.useState)(1),N=h()(B,2),D=N[0],W=N[1],I=30,y=(0,i.useState)(0),ge=h()(y,2),de=ge[0],U=ge[1],ue=(0,i.useState)(0),X=h()(ue,2),J=X[0],V=X[1],se=function(f,l){W(l),U(0),V(0),A==="my_list"&&_&&nt(l),A==="orders"&&st(l),A==="listed"&&at(l)},ae=function(){W(1),U(0),V(0)},K=(0,we.P)(),_=K.address,T=K.web3,Re=K.connect,Ee=K.isConnect,z=(0,i.useState)(""),je=h()(z,2),Le=je[0],He=je[1],Y=(0,i.useState)(""),Be=h()(Y,2),Ie=Be[0],Q=Be[1],$e=(0,i.useState)(0),_e=h()($e,2),q=_e[0],v=_e[1],b=(0,i.useState)(!1),O=h()(b,2),le=O[0],ee=O[1],he=(0,i.useState)(!1),ve=h()(he,2),oe=ve[0],be=ve[1],Ze=(0,i.useState)(-1),ye=h()(Ze,2),ke=ye[0],We=ye[1],Se=function(){We(-1),be(!1)},o=function(){var t=S()(p()().mark(function f(l,C){var m,Ve,ze,wt,ot,ct,Xe,Oe,dt,Je,Ke,Nt;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return We(C),be(!0),u.next=4,new Promise(function(Tt){return setTimeout(Tt,500)});case 4:if(_){u.next=9;break}return Q("not fund address"),setTimeout(function(){Q("")},3e3),Se(),u.abrupt("return");case 9:if(T){u.next=14;break}return Q("not fund web3"),setTimeout(function(){Q("")},3e3),Se(),u.abrupt("return");case 14:return u.next=16,T.eth.getGasPrice();case 16:return m=u.sent,Ve=Number(m)*2,ze=(Number(m)*3*28e3*2/1e18).toString(),console.log(ze),u.next=22,T.eth.getBalance(_);case 22:return wt=u.sent,ot=T.utils.toWei((0,c.Z)(l.sellValue).multipliedBy(1.02).plus(ze).toString(),"ether"),u.next=26,H.Z.get(x.J4+"/order/inscription_lock",{params:{buyer_address:_==null?void 0:_.toLocaleLowerCase(),sell_tx_hash:l.sellTxHash}});case 26:if(ct=u.sent,ct.data.data){u.next=32;break}return Q("ERROR: inscription lock"),setTimeout(function(){Q("")},3e3),Se(),u.abrupt("return");case 32:return u.prev=32,Xe="data:,"+JSON.stringify({p:"asc-20",op:"buy",tx_hash:l.sellTxHash,gasprice:Ve.toString(),tick:"aval"}),console.log("dataString::",Xe),Oe=new(Te())(window.ethereum),u.next=38,window.ethereum.enable();case 38:return u.next=40,Oe.eth.getAccounts();case 40:return dt=u.sent,Je=dt[0],console.log("sender",Je),Ke=Oe.utils.asciiToHex(Xe),console.log(Ke),u.next=47,Oe.eth.sendTransaction({from:Je,to:l.dexAddress,value:ot,data:Ke});case 47:Nt=u.sent,ee(!0),Se(),u.next=55;break;case 52:u.prev=52,u.t0=u.catch(32),console.log(u.t0);case 55:case"end":return u.stop()}},f,null,[[32,52]])}));return function(l,C){return t.apply(this,arguments)}}(),M=function(){},Fe=(0,i.useState)("listed"),Ye=h()(Fe,2),A=Ye[0],De=Ye[1],ut=(0,i.useState)([]),Ge=h()(ut,2),Qe=Ge[0],ht=Ge[1],vt=(0,i.useState)([]),qe=h()(vt,2),ft=qe[0],xt=qe[1],mt=(0,i.useState)([]),et=h()(mt,2),pt=et[0],gt=et[1],jt=(0,i.useState)({holders:0,hourVol:"-",totalVol:"-",blockNumber:"0"}),tt=h()(jt,2),fe=tt[0],_t=tt[1];(0,i.useEffect)(function(){H.Z.get(x.J4+"/market/indicator_information",{}).then(function(t){var f,l=(f=t.data)===null||f===void 0?void 0:f.data;l&&_t({holders:l.holders,hourVol:new c.Z(l.hourVol).dividedBy(1e18).toFormat(2),totalVol:new c.Z(l.totalVol).dividedBy(1e18).toFormat(2),blockNumber:l.blockNumber})})},[]);var nt=function(f){H.Z.get(x.J4+"/market/my_list?current=".concat(f||D,"&size=").concat(I),{params:{address:_==null?void 0:_.toLocaleLowerCase()}}).then(function(l){var C=l.data.data.records,m=l.data.data.total;V(m),U(Math.ceil(m/I)),console.log("my_list::",C),C&&xt(C)})},st=function(f){H.Z.get(x.J4+"/market/order_list?current=".concat(f||D,"&size=").concat(I),{}).then(function(l){var C=l.data.data.records,m=l.data.data.total;V(m),U(Math.ceil(m/I)),console.log("orders_list::",C),C&&gt(C)})},at=function(f){H.Z.get(x.J4+"/market/market_list",{params:{current:f||D,size:I}}).then(function(l){var C=l.data.data.total;V(C),U(Math.ceil(C/I)),ht(l.data.data.records.filter(function(m){return Number(m.sellValue)+""===m.sellValue}).map(function(m){var Ve="0";try{Ve=JSON.parse(m.inputData.substr(6)).sell_value}catch(ze){}return{sell_num:m.sellNum,seller:m.fromAddress,hash:m.sellTxHash,sellValue:m.sellValue,dexAddress:m.dexAddress,sellTxHash:m.sellTxHash}}))})};(0,i.useEffect)(function(){ae(),A==="my_list"&&_&&nt(),A==="orders"&&st(),A==="listed"&&at()},[A,_]);var bt=(0,i.useState)(!1),rt=h()(bt,2),Zt=rt[0],it=rt[1],yt=function(){it(!0)},Ue=function(){it(!1)};(0,i.useEffect)(function(){H.Z.get("https://api.diadata.org/v1/assetQuotation/Avalanche/0x0000000000000000000000000000000000000000").then(function(t){if(t.data.Price){var f;v(t.data.Price),localStorage.coinprice=t==null||(f=t.data)===null||f===void 0?void 0:f.Price}else v(x.M$)}).catch(function(){v(x.M$)})},[]);var kt=(0,i.useState)(!1),lt=h()(kt,2),St=lt[0],Ct=lt[1];return(0,e.jsxs)("div",{className:n.Z.market,children:[(0,e.jsxs)("div",{className:n.Z.header,children:[(0,e.jsxs)("div",{className:n.Z.tick_type,children:[(0,e.jsx)("div",{style:{display:"flex",alignItems:"center"},children:(0,e.jsxs)("span",{style:{marginLeft:8,fontSize:24,fontWeight:700},children:["Aval",x.kE]})}),(0,e.jsx)("div",{style:{borderRadius:39,border:"1px solid rgba(0, 0, 0, 0.10)",background:"#FFF",padding:"9px 16px"},children:"ASC-20"})]}),(0,e.jsxs)("div",{className:n.Z.tick_info,children:[(0,e.jsxs)("div",{className:n.Z.item,children:[(0,e.jsx)("div",{className:n.Z.item_title,children:"Total Vol"}),(0,e.jsxs)("div",{className:n.Z.item_value,children:[fe.totalVol," ",x.jC]})]}),(0,e.jsxs)("div",{className:n.Z.item,children:[(0,e.jsx)("div",{className:n.Z.item_title,children:"24H Vol"}),(0,e.jsxs)("div",{className:n.Z.item_value,children:[fe.hourVol," ",x.jC]})]}),!1,(0,e.jsxs)("div",{className:n.Z.item,children:[(0,e.jsx)("div",{className:n.Z.item_title,children:"Total Supply"}),(0,e.jsx)("div",{className:n.Z.item_value,children:"2.1P"})]})]})]}),(0,e.jsxs)("div",{className:n.Z.tabs_wrap,children:[(0,e.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,e.jsxs)("div",{className:n.Z.tabs,children:[(0,e.jsx)("div",{className:[n.Z.tab_item,A==="listed"?n.Z.tab_item_active:""].join(" "),onClick:function(){return De("listed")},children:"Listed"}),(0,e.jsx)("div",{className:[n.Z.tab_item,A==="orders"?n.Z.tab_item_active:""].join(" "),onClick:function(){return De("orders")},children:"Orders"}),(0,e.jsx)("div",{className:[n.Z.tab_item,A==="my_list"?n.Z.tab_item_active:""].join(" "),onClick:function(){return De("my_list")},children:"My List"})]}),(0,e.jsxs)(d.Z,{sx:{display:{xs:"none",md:"flex"},alignItems:"center",ml:"20px",a:{color:"#000"}},children:[(0,e.jsx)(d.Z,{sx:{height:10,width:10,background:"#000",borderRadius:"50px",mr:"10px"}}),(0,e.jsx)("a",{target:"_blank",href:"https://snowtrace.io/block/".concat(fe.blockNumber,"?chainId=43114"),children:fe.blockNumber})]})]}),(0,e.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,e.jsxs)(d.Z,{sx:{display:{xs:"flex",md:"none"},alignItems:"center",ml:"20px",a:{color:"#000"}},children:[(0,e.jsx)(d.Z,{sx:{height:10,width:10,background:"#000",borderRadius:"50px",mr:"10px"}}),(0,e.jsx)("a",{target:"_blank",href:"https://snowtrace.io/block/".concat(fe.blockNumber,"?chainId=43114"),children:fe.blockNumber})]}),(0,e.jsx)("div",{className:n.Z.quick_list_wrap,children:(0,e.jsx)("button",{onClick:yt,className:n.Z.quick_list,children:"List Token"})})]})]}),A==="listed"&&(0,e.jsxs)("div",{className:n.Z.market_list,children:[Qe.map(function(t,f){var l;return(0,e.jsxs)("div",{className:n.Z.market_list_item,children:[(0,e.jsx)("div",{className:n.Z.list_tick,children:"aval"}),(0,e.jsx)("div",{className:n.Z.list_num,children:new c.Z(t.sell_num).toFormat(0,c.Z.ROUND_FLOOR)}),(0,e.jsxs)("div",{className:n.Z.sell_usd,children:["$",(0,c.Z)(t.sellValue).dividedBy(t.sell_num).multipliedBy(q).multipliedBy(1e8).toFormat(2)," / one price"]}),(0,e.jsx)("div",{className:n.Z.line}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",margin:"10px 0px"},children:[(0,e.jsx)("div",{children:t.sellValue}),(0,e.jsxs)("div",{children:["$",(0,c.Z)(t.sellValue).multipliedBy(q).toFormat(2)]})]}),(0,e.jsx)("div",{className:n.Z.line}),(0,e.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8},children:[(0,e.jsx)("div",{style:{fontSize:"12px",color:"rgba(0,0,0,0.6)"},children:"Seller"}),((l=t.seller)===null||l===void 0?void 0:l.toLocaleLowerCase())!==(_==null?void 0:_.toLocaleLowerCase())?(0,e.jsx)("div",{style:{fontSize:"12px",color:"rgba(0,0,0,0.9)"},children:(0,e.jsx)("a",{target:"_blank",href:x.XI+t.seller,style:{color:"rgba(0,0,0,0.9)",textDecoration:"none"},children:(0,ie.n)(t.seller)})}):(0,e.jsx)("div",{style:{fontSize:"12px",color:"rgba(0,0,0,0.9)"},children:"Your"})]}),_&&Ee?(0,e.jsx)("button",{disabled:ke===f&&oe,onClick:function(){return o(t,f)},className:n.Z.buy,children:"Buy"}):(0,e.jsx)("button",{onClick:Re,className:n.Z.buy,children:"Connect"})]},t.hash)}),Qe.length===0&&(0,e.jsx)(d.Z,{children:(0,e.jsx)(d.Z,{children:"Not List"})})]}),A==="orders"&&(0,e.jsx)(d.Z,{className:n.Z.orderTableWrap,sx:{marginTop:"20px"},children:(0,e.jsxs)(Ae.Z,{children:[(0,e.jsx)(Pe.Z,{children:(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(a.Z,{children:"Tick"}),(0,e.jsx)(a.Z,{children:"Time"}),(0,e.jsx)(a.Z,{children:"Total Value"}),(0,e.jsx)(a.Z,{children:"Amount"}),(0,e.jsx)(a.Z,{children:"One Price"}),(0,e.jsx)(a.Z,{children:"Buyer"}),(0,e.jsx)(a.Z,{children:"Seller"}),(0,e.jsx)(a.Z,{children:"Hash"})]})}),(0,e.jsx)(g.Z,{children:pt.map(function(t,f){return(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(a.Z,{children:"aval"}),(0,e.jsx)(a.Z,{children:new Date(t==null?void 0:t.payTime).toLocaleString()}),(0,e.jsx)(a.Z,{children:new c.Z(t.payValue).dividedBy(1e18).toFormat(4)}),(0,e.jsx)(a.Z,{children:t.sellNum}),(0,e.jsxs)(a.Z,{children:["$",(0,c.Z)(t.payValue).dividedBy(1e18).dividedBy(t.sellNum).multipliedBy(q).multipliedBy(x.zl===43114?1e8:1).toFormat(2)]}),(0,e.jsx)(a.Z,{children:(0,e.jsx)("a",{target:"_blank",href:x.XI+t.buyerAddress,children:(0,ie.n)(t.buyerAddress)})}),(0,e.jsx)(a.Z,{children:(0,e.jsx)("a",{target:"_blank",href:x.XI+t.sellerAddress,children:(0,ie.n)(t.sellerAddress)})}),(0,e.jsx)(a.Z,{children:(0,e.jsx)("a",{target:"_blank",href:x.gp+t.txHash,children:(0,ie.n)(t.txHash)})})]},t.buyerAddress+f)})})]})}),A==="my_list"&&(0,e.jsx)(d.Z,{className:n.Z.orderTableWrap,sx:{marginTop:"20px"},children:(0,e.jsxs)(Ae.Z,{children:[(0,e.jsx)(Pe.Z,{children:(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(a.Z,{children:"Tick"}),(0,e.jsx)(a.Z,{children:"Time"}),(0,e.jsx)(a.Z,{children:"Hash"}),(0,e.jsx)(a.Z,{children:"Amount"}),(0,e.jsx)(a.Z,{children:"Value"}),(0,e.jsx)(a.Z,{children:"One Price"}),(0,e.jsx)(a.Z,{children:"State"})]})}),(0,e.jsx)(g.Z,{children:ft.map(function(t){return(0,e.jsxs)(w.Z,{children:[(0,e.jsx)(a.Z,{children:"aval"}),(0,e.jsx)(a.Z,{children:new Date(t==null?void 0:t.payTime).toLocaleString()}),(0,e.jsx)(a.Z,{children:(0,e.jsx)("a",{target:"_blank",href:x.gp+(t==null?void 0:t.txHash),children:t!=null&&t.txHash?(0,ie.n)(t==null?void 0:t.txHash):""})}),(0,e.jsx)(a.Z,{children:t.sellNum}),(0,e.jsx)(a.Z,{children:t.sellValue}),(0,e.jsxs)(a.Z,{children:["$",(0,c.Z)(t.sellValue).dividedBy(1e18).dividedBy(t.sellNum).multipliedBy(q).multipliedBy(x.zl===43114?1e8:1).toFormat(2)]}),(0,e.jsx)(a.Z,{children:t.state==-1?"Cancel pending order":t.state==0?"List":t.state==1?"Ordinary order lock":t.state==2?"Block onfirmed":t.state==3?"Pending":t.state==4?"Purchased order completed":t.state==5?"Duplicate transaction order locked":t.state==6?"The transaction failed and was locked":"-"})]},t.txHash)})})]})}),J>0?(0,e.jsx)("div",{children:(0,e.jsx)("div",{className:n.Z.total,children:(0,e.jsx)(r.Z,{count:de,page:D,onChange:se,color:"primary"})})}):"",(0,e.jsx)($.Z,{open:Zt,onClose:Ue,className:n.Z.dialogWrapOutBox,children:(0,e.jsxs)(d.Z,{className:n.Z.dialogWrap,children:[(0,e.jsxs)(d.Z,{children:[(0,e.jsx)(P.Z,{children:"List"}),(0,e.jsx)(j.Z,{"aria-label":"close",onClick:Ue,sx:{position:"absolute",right:8,top:8,color:function(f){return f.palette.grey[500]}},children:(0,e.jsx)(k.Z,{})})]}),(0,e.jsx)(pe,{onClose:Ue})]})}),(0,e.jsx)($.Z,{open:le,children:(0,e.jsxs)(d.Z,{sx:{width:"330px",p:"24px",textAlign:"center",boxSizing:"border-box"},children:[(0,e.jsxs)("svg",{width:"54",height:"54",viewBox:"0 0 54 54",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,e.jsxs)("g",{"clip-path":"url(#clip0_15_10080)",children:[(0,e.jsx)("circle",{cx:"27",cy:"27",r:"27",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("circle",{cx:"27",cy:"27",r:"22",fill:"#7BE6A0","fill-opacity":"0.17"}),(0,e.jsx)("path",{d:"M40.3333 27C40.3333 19.6667 34.3333 13.6667 27 13.6667C19.6666 13.6667 13.6666 19.6667 13.6666 27C13.6666 34.3333 19.6666 40.3333 27 40.3333C34.3333 40.3333 40.3333 34.3333 40.3333 27Z",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),(0,e.jsx)("path",{d:"M21.3334 27L25.1067 30.7734L32.6667 23.2267",stroke:"#3DD671","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})]}),(0,e.jsx)("defs",{children:(0,e.jsx)("clipPath",{id:"clip0_15_10080",children:(0,e.jsx)("rect",{width:"54",height:"54",fill:"white"})})})]}),(0,e.jsx)(d.Z,{sx:{mt:"16px",fontSize:"20px",fontWeight:500},children:"Payment successful"}),(0,e.jsx)(d.Z,{sx:{mt:"16px",fontSize:"14px",color:"rgba(0,0,0,0.7)"},children:"Please wait for blockchain confirmation"}),(0,e.jsx)(d.Z,{sx:{borderRadius:"40px",background:"#E84142",display:"flex",padding:"9px 24px",justifyContent:"center",alignItems:"center",alignSelf:"stretch",marginTop:"26px",color:"#fff",cursor:"pointer"},onClick:function(){return ee(!1)},children:"OK"})]})}),(0,e.jsx)(ce,{error_text:"Insufficient balance",show_error_alert:St,set_show_error_alert:Ct}),(0,e.jsx)("div",{style:{height:"70px"}}),(0,e.jsx)($.Z,{open:!!Le,children:(0,e.jsx)(Z.Z,{severity:"success",color:"info",children:Le})}),(0,e.jsx)($.Z,{open:!!Ie,children:(0,e.jsx)(Z.Z,{variant:"filled",severity:"error",children:Ie})})]})},E=ne},62094:function(Ce,R){R.Z={indexer:"indexer___KRUim",cards:"cards___RReFY",tokenname:"tokenname___AIJQN",balance:"balance___p_phs",inner:"inner____mGY3",token:"token___YZ2O8",loadingbox:"loadingbox___pkeSy",loading:"loading___v87br",rectangle:"rectangle___iYf9s",transfer:"transfer___ZMOqy",transferInner:"transferInner___Vz9kk",utxos:"utxos___uKhYw",title:"title___nwRif",tokenbox:"tokenbox___OXMSy",utxo_item:"utxo_item___ILjVk",utxo_select:"utxo_select___dfaYU",all:"all___tVF5b",connect:"connect___it59e",market:"market___hh364",header:"header___Peyd6",tick_type:"tick_type___MCcRa",tick_info:"tick_info___hDvTL",item:"item___sWkVl",item_title:"item_title___w7ctb",item_value:"item_value___IARMT",tabs:"tabs___LxTFv",tab_item:"tab_item___Ez6Id",tab_item_active:"tab_item_active___BKQKU",quick_list:"quick_list___hUzUa",market_list:"market_list___ZKG4J",market_list_item:"market_list_item___h_BE9",buy:"buy___kP3pZ",list_tick:"list_tick____w_on",list_num:"list_num___O8RTc",sell_usd:"sell_usd___ClX7o",line:"line___SuZOP",avalLogo:"avalLogo___a10An",tabs_wrap:"tabs_wrap___d9GIz",quick_list_wrap:"quick_list_wrap___sWN69",pageWrap:"pageWrap___vLCzz",total:"total___IQw8K",emptySize:"emptySize___ZKxVQ",dialogWrap:"dialogWrap___q6lr3",dialogWrapOutBox:"dialogWrapOutBox___QYl4T",orderTableWrap:"orderTableWrap___z1Wto"}}}]);
